/*!
*  filename: ej.progressbar.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t){t.widget("ejProgressBar","ej.ProgressBar",{element:{target:null},model:null,_rootCSS:"e-progressbar",defaults:{text:"",cssClass:"",min:0,max:100,value:0,percentage:0,height:null,width:null,disabled:!1,rtl:!1,start:null,complete:null,change:null},dataTypes:{cssClass:"string",min:"number",max:"number",value:"number",percentage:"number",disabled:"boolean",rtl:"boolean"},_setValue:function(n){isNaN(n)||typeof n!="number"||(this.model.value=this._checkProgressValue(n,this.model.min,this.model.max,"value"),this._setProgressValue())},_setPercent:function(n){isNaN(n)||typeof n!="number"||(this.model.percentage=this._checkProgressValue(n,0,100,"percent"),this._setProgressPercent())},_setText:function(n){this.text?this.text[0].innerHTML=n:(this.text=t.buildTag("div.e-progress-text",n),this.element.append(this.text),this.header.remove(),this.element.append(this.header),this._setTop())},_setHeightWidth:function(){this._setDimention(),this.text&&this._setTop()},_changeSkin:function(n){this.model.cssClass!=n&&this.element.removeClass(this.model.cssClass).addClass(n)},enable:function(){this.element.hasClass("disabled")&&this.element.removeClass("disabled")},disable:function(){this.element.hasClass("disabled")||this.element.addClass("disabled")},getValue:function(){return this.progressVal},getPercent:function(){return this.progressPos},_init:function(){this._initialize(),this._render()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"value":this._setValue(n[t]);break;case"percentage":this._setPercent(n[t]);break;case"text":this._setText(n[t]);break;case"height":this.model.height=n[t],this._setHeightWidth(n[t]);break;case"width":this.model.width=n[t],this._setHeightWidth(n[t]);break;case"disabled":this._disabled(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"rtl":this._rtl(n[t])}},_destroy:function(){this.element.empty(),this.element.removeClass(this.model.cssClass)},_initialize:function(){this.progressVal=this.model.min,this.progressPos=0,this.text=null,this.header=null},_render:function(){this.element.addClass(this.model.cssClass),this._setDimention(),this.model.text&&(this.text=t.buildTag("div.e-progress-text",this.model.text),this.element.append(this.text),this._setTop()),this.header=t.buildTag("div.e-progress-range"),this.element.append(this.header),this._setInitialValue(),this._checkProperties()},_setDimention:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width)},_setInitialValue:function(){this.model.percentage!=0?(this.model.percentage=this._checkProgressValue(this.model.percentage,0,100,"percent"),this._setProgressPercent()):(this.model.value=this._checkProgressValue(this.model.value,this.model.min,this.model.max,"value"),this._setProgressValue()),this.model.disabled&&this._disabled(!0)},_disabled:function(n){n?this.disable():this.enable()},_checkProperties:function(){this.model.rtl&&this._rtl(this.model.rtl)},_rtl:function(n){n?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setTop:function(){var n=(this.element.height()-this.text.height())/2;this.text.css("margin-top",Math.floor(n))},_increaseProgressWidth:function(){this.header.css("width",this.progressPos+"%").css("left",0),this.initial==0&&this.progressPos!=this.initial&&this.model.start&&this._trigger("start",{value:this.progressVal,percentage:this.progressPos}),this.model.change&&this._trigger("change",{value:this.progressVal,percentage:this.progressPos}),this.progressPos==100&&this.model.complete&&this._trigger("complete",{value:this.progressVal,percentage:this.progressPos})},_setProgressValue:function(){this.initial=this.progressPos,this.progressVal=this.model.value,this.progressPos=this._valueToPercent(this.progressVal),this._increaseProgressWidth()},_setProgressPercent:function(){this.initial=this.progressPos,this.progressVal=this._percentToValue(this.model.percentage),this.progressPos=this.model.percentage,this._increaseProgressWidth()},_checkProgressValue:function(n,t,i,r){return this.model.max<=this.model.min?n=r=="value"?t:i:n<t?n=t:n>i&&(n=i),n},_valueToPercent:function(n){return this.model.max<=this.model.min?100:n>=this.model.min&&n<=this.model.max?100*(n-this.model.min)/(this.model.max-this.model.min):n<this.model.min?0:100},_percentToValue:function(n){if(this.model.max<=this.model.min)return this.model.min;if(n>=0&&n<=100){var t=this.model.max-this.model.min,i=t*n/100;n=i+this.model.min}else n<0?n=this.model.min:n>100&&(n=this.model.max);return n}})})(jQuery,Syncfusion)