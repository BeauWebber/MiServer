/*!
*  filename: ej.waitingpopup.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t){t.widget("ejWaitingPopup","ej.WaitingPopup",{element:{target:null},model:null,_rootCSS:"e-waitingpopup",defaults:{autoDisplay:!1,showImage:!0,cssClass:"",text:null,template:null},dataTypes:{autoDisplay:"boolean",showImage:"boolean",cssClass:"string"},show:function(){this._refreshPanel(),this.maindiv.css("display","block")},hide:function(){this.maindiv.css("display","none")},refresh:function(){this._refreshPanel()},setText:function(n){this.model.text?this.popupText[0].innerHTML=n:(this.model.text=n,this._generateTextTag(n),this._setContentPosition())},setTheme:function(n){this.maindiv.removeClass(this.model.cssClass).addClass(n)},_init:function(){this._initialize(),this._render()},_setModel:function(n){var t;for(t in n)switch(t){case"text":this.setText(n[t]);break;case"cssClass":this.setTheme(n[t])}},_destroy:function(){this.maindiv.remove()},_initialize:function(){this.target=this.element[0]},_render:function(){this.maindiv=t.buildTag("div.e-waitingPopup-panel "+this.model.cssClass+"#"+this.target.id+"_WaitingPopup"),this.model.template?(this.model.template.css({visibility:"visible",display:"block"}),this.maindiv.append(this.model.template)):(this.model.showImage&&(this.popupImage=t.buildTag("span.e-image"),this.maindiv.append(this.popupImage)),this.model.text&&this._generateTextTag()),n("body").append(this.maindiv),this._setVisibility()},_refreshPanel:function(){this.maindiv.width(this.element[0].offsetWidth),this.maindiv.height(this.element[0].offsetHeight),this._setPanelPosition(),this._setContentPosition()},_setPanelPosition:function(){var n=this.element.offset();this.maindiv.css({left:Math.ceil(n.left)+"px",top:Math.ceil(n.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(this.model.template==null){var t=0,r=0,i,n=null;i=this.element.height(),this.model.text&&(t=this.popupText.height()),this.model.showImage&&(r=this.popupImage.height()),this.model.showImage&&(n=Math.ceil((i-(r+t))/2),this.popupImage.css("top",n+"px")),this.model.text&&(n||(n=Math.ceil((i-t)/2)),this.popupText.css("top",n+"px"))}else this.model.template.css({position:"relative",left:Math.ceil((this.element.width()-this.model.template.width())/2),top:Math.ceil((this.element.height()-this.model.template.height())/2)})},_generateTextTag:function(){this.popupText=t.buildTag("h3",this.model.text),this.maindiv.append(this.popupText)},_setVisibility:function(){this.model.autoDisplay?this.show():this.hide()},_maxZindex:function(){for(var r=document.getElementsByTagName("div"),t=0,i,n=0;n<r.length-1;n++)i=parseInt(r[n].style.zIndex,10),i>t&&(t=i);return t}})})(jQuery,Syncfusion)