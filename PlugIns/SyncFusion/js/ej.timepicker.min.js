/*!
*  filename: ej.timepicker.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){t.widget("ejTimePicker","ej.TimePicker",{element:{target:null},model:null,_rootCSS:"e-timepicker",defaults:{cssClass:"",timeFormat:"h:mm tt",time:null,localize:"en-EN",disableManualInput:!1,showButton:!0,interval:30,hourInterval:1,minInterval:1,secInterval:1,height:26,width:110,minTime:null,maxTime:null,roundedCorner:!1,rtl:!1,popupHeight:null,popupWidth:null,persist:!1,change:null,cultureChange:null},dataTypes:{timeFormat:"string",time:"string",minTime:"string",maxTime:"string",interval:"number",showButton:"boolean",localize:"string",hourInterval:"number",minInterval:"number",secInterval:"number",persist:"boolean"},enable:function(){this.element[0].disabled=!1,this.wrapper.removeClass("disabled")},disable:function(){this.element[0].disabled=!0,this.wrapper.addClass("disabled")},getTime:function(){return this.element.val()},updateCurrentTime:function(){this.wrapper.hasClass("disabled")||this._setMask()},_timeFormat:function(n){var t=this._validateTimeFormat(n);return t&&this.element.val(this._localizeTime(this.getTime(),t)),t},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.wrapper.removeClass(this.model.cssClass).addClass(n))},_localize:function(t){var s=this.model.localize,r,u=this.model.timeFormat.split(" "),e="",i="",f=!1,o;for(this.model.localize=t,r=0;r<u.length;r++)u[r]!="tt"?(o=this.target.value.split(" ")[r].replace(new RegExp(this.seperator,"gi"),":"),i=this._localizeTime(o,u[r])):u[r]=="tt"&&(i=this.target.value.split(" ")[r],i==this.ttAM?(this._getAmPm(),i=this.ttAM,f=!0):i==this.ttPM&&(this._getAmPm(),i=this.ttPM,f=!0),i||(i="")),e+=i+" ";f||this._getAmPm(),this.element.val(n.trim(e)),this.model.cultureChange&&this._trigger("cultureChange",{preCulture:s,culture:t})},_init:function(){this._initialize(),this._render(),this._wireEvents()},_setModel:function(n){var t,i;if(this.wrapper.hasClass("disabled"))return!1;for(t in n)switch(t){case"timeFormat":i=this._timeFormat(n[t]),n[t]=i?i:this.model.timeFormat,this.model.timeFormat=n[t],this.seperator=this._getSeperator(),this.model.showButton&&this._reRenderDropdown();break;case"localize":this._localize(n[t]),this.model.showButton&&this._reRenderDropdown();break;case"interval":this.model.interval=n[t],this.model.showButton&&this._reRenderDropdown();break;case"showButton":this._showButton(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"roundedCorner":this._checkRoundedCorner(n[t]);break;case"rtl":this._checkRTL(n[t]);break;case"height":this.element.height(n[t]);break;case"width":this.element.width(n[t]),this.element.width(this.element.width()-this.ddWidth),this._setListWidth();break;case"minTime":this._isValid(n[t])?(this.model.minTime=n[t],this.model.showButton&&this._reRenderDropdown()):n[t]=null;break;case"maxTime":this._isValid(n[t])?(this.model.maxTime=n[t],this.model.showButton&&this._reRenderDropdown()):n[t]=null;break;case"time":this._isValid(n[t])?(this.model.time=n[t],this._enableMask()):n[t]=this.getTime()}},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-rtl e-input "+this.model.cssClass).val(""),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this.focused=!1,this.start=0,this.end=0,this.increment=null,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this.amLength=2,this.pmLength=2,this._getAmPm(),this._timeListID="#"+this.target.id+"_popup ul li",this.showDropdown=!1,this._activeItem=0,this._manualFocus=!1,this.seperator=this._getSeperator(),this.ddWidth=0},_render:function(){this.element.addClass("e-input "+this.model.cssClass).attr({ondragstart:"return false",draggable:"false"}),this.wrapper=t.buildTag("span.e-timepicker-wrapper "+this.model.cssClass+"#"+this.target.id+"_timepicker_wrapper"),this.wrapper.insertAfter(this.element),this.wrapper.append(this.element),this._validateTimes(),this._renderTimeIcon(),this._setDimentions(),this._renderDropdown(),this._checkProperties(),this._enableMask()},_renderTimeIcon:function(){this.timeIcon=t.buildTag("span.e-imgcontainer");var n=t.buildTag("span.e-time-icon");this.timeIcon.append(n),this.wrapper.append(this.timeIcon),this.ddWidth=this.timeIcon[0].offsetWidth>0?this.timeIcon[0].offsetWidth:24},_renderDropdown:function(){if(this.popupList)return!1;this.popupList=t.buildTag("div.e-time-popup "+this.model.cssClass+"#"+this.target.id+"_popup","",{visibility:"hidden"}),this.model.roundedCorner&&this.popupList.addClass("e-corner-all"),this.ul=t.buildTag("ul");var i=t.buildTag("div").append(this.ul);this.popupList.append(i),n("body").append(this.popupList),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css({display:"none",visibility:"visible"})},_renderLiTags:function(){if(this.model.interval<1)return!1;for(var u,i=this.model.minTime?this._createObject(this.model.minTime):this._createObject("12:00:00 AM"),r=this.model.maxTime?this._createObject(this.model.maxTime):this._createObject("11:59:59 PM");this._compareTime(r,i,!0);)u=this._localizeTime(i,this.model.timeFormat),this.ul.append(t.buildTag("li",u)),i=this._createObject(i).getTime()+this.model.interval*6e4;this._on(n(this._timeListID),"mouseenter",n.proxy(this._OnMouseEnter,this)),this._on(n(this._timeListID),"mouseleave",n.proxy(this._OnMouseLeave,this)),this._on(n(this._timeListID),"mousedown",n.proxy(this._OnMouseClick,this))},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this.model.time=this.getTime(),this._enableMask()},_refreshScroller:function(){this.popupList.css("height","auto"),this.popupList.find(".content, .vScroll").removeAttr("style"),this.popupList.find(".vScroll div").removeAttr("style"),this.popupList.css({display:"block",visibility:"hidden"}),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this.popupList.css({display:"none",visibility:"visible"})},_setListWidth:function(){this.model.popupWidth?this.popupList.width(this.model.popupWidth):this.popupList.css("min-width",this.element.width()+this.ddWidth)},_setListHeight:function(){this.popupList.css({"max-height":this.model.popupHeight||"189px"})},_setListPosition:function(){var n=this.wrapper?this.wrapper.offset():this.element.offset(),t=n.left,i=this.wrapper.outerHeight(),r=(i-this.wrapper.height())/2,u=this._getZindexPartial();this.model.rtl&&(t-=this.popupList.outerWidth()-this.wrapper.outerWidth()),this.popupList.css({left:t+"px",top:n.top+i-r+3+"px","z-index":u})},_getZindexPartial:function(){var u="#"+this.target.id+"_popup",r=this.element.parents(),f=r.length,e=n("body").children(":not("+u+")"),t;return n(e).each(function(n,t){r[f+n]=t}),t=Math.max.apply(t,n.map(r,function(t){if(n(t).css("position")!="static")return parseInt(n(t).css("z-index"))||1})),t==i||t==null||t<1e4?t=1e4:t+=1,t},_enableMask:function(){this.model.minTime||this.model.maxTime?this.model.time?this.model.minTime&&this._compareTime(this.model.minTime,this.model.time)?this._setTime(this.model.minTime):this.model.maxTime&&this._compareTime(this.model.time,this.model.maxTime)?this._setTime(this.model.maxTime):this._setTime(this.model.time):this._setTime(this.model.minTime):this.model.time?this._setTime(this.model.time):this._setMask()},_validateTimes:function(){this._isValid(this.model.minTime)||(this.model.minTime=null),this._isValid(this.model.maxTime)||(this.model.maxTime=null),this._isValid(this.model.time)||(this.model.time=null),this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.maxTime=null)},_checkProperties:function(){this._checkRTL(this.model.rtl);var n=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=n?n:this.defaults.timeFormat,this.model.roundedCorner&&(this.wrapper.addClass("e-corner-all"),this.popupList&&this.popupList.addClass("e-corner-all")),this.model.showButton||this._showButton(!1),this._checkNameAttr()},_checkRTL:function(n){n?(this.model.showButton?this.wrapper.css("padding","0 0 0 "+this.ddWidth+"px"):this.wrapper.css("padding","0"),this.element.addClass("e-rtl"),this.timeIcon.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.model.showButton?this.wrapper.css("padding","0 "+this.ddWidth+"px 0 0"):this.wrapper.css("padding","0"),this.element.removeClass("e-rtl"),this.timeIcon.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_showButton:function(n){this.model.showButton=n,n?(this.timeIcon.css("display","block"),this.element.width(this.element.width()-this.ddWidth),this._renderDropdown(),this._checkRTL(this.model.rtl)):(this.timeIcon.css("display","none"),this.wrapper.css("padding","0"),this.element.width(this.element.width()+this.ddWidth),this.popupList.remove(),this.popupList=null)},_checkRoundedCorner:function(n){n?(this.wrapper.addClass("e-corner-all"),this.popupList&&this.popupList.addClass("e-corner-all")):(this.wrapper.removeClass("e-corner-all"),this.popupList&&this.popupList.removeClass("e-corner-all"))},_checkNameAttr:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id})},_getAmPm:function(){this.ttAM=n.trim(this._localizeMeridian("00:00")),this.ttPM=n.trim(this._localizeMeridian("23:00")),this.amLength=this.ttAM.length,this.pmLength=this.ttPM.length},_setDimentions:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this.element.width(this.element.width()-this.ddWidth)},_setTime:function(n){var t=this._localizeTime(n,this.model.timeFormat);t.indexOf("NaN")==-1?this.element.val(t):this._setMask()},_validateTimeFormat:function(t){var i=t.split(" "),r="";return i.length==1||i.length==2?(n(i).each(function(t,i){r+=n.trim(i)+" "}),n.trim(r)):null},_setMask:function(){var n=this._localizeTime(new Date,this.model.timeFormat);this.element.val(n)},_getSeperator:function(){for(var i=this._getElePlace(),t=this.model.timeFormat.split(" ")[i.time],r=new RegExp("^[a-zA-Z0-9]+$"),n=0;n<t.length;n++)if(!r.test(t[n]))return t[n]},_checkInComplete:function(){var r=this._getCaretSelection(),i="00",t=this._getSelectedValue(),n=this._getCurrentPart();return n!="tt"&&(this._findCategoryPosition(n),t=="__"?((n=="h"||n=="hh")&&(i="12"),this._changeToDefault(i)):n.length!=1&&t.length==1&&(t=this._changeWhole(t),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)))),n},_changeToDefault:function(n){this.incomplete=!0,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,n),this._setSelection(this.start,this.end),this._raiseChangeEvent()},_setSelection:function(n,t){this.target.setSelectionRange&&this.target.setSelectionRange(n,t)},_getCurrentPart:function(){var n=this._getCaretSelection(),t=this._getStartEnd(n);return this._getCategory(t)},_getSelectedValue:function(){var t=this._getCaretSelection(),n=this._getStartEnd(t);return this.target.value.substring(n.start,n.end)},_getMinMax:function(n,t){n=="hh"||n=="h"?(this.min=1,this.max=11,t&&(this.max=12)):n=="HH"||n=="H"?(this.min=0,this.max=23):(n=="mm"||n=="m"||n=="ss"||n=="s")&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){t.preventDefault(),this.focused=!0,this.element.bind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this.focusVal=this.target.value,this.wrapper?this.wrapper.addClass("e-focused"):this.element.addClass("e-focused"),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1},_targetBlur:function(){this.focused=!1,this.element.unbind("mousewheel DOMMouseScroll",n.proxy(this._mouseWheel,this)),this._hideResult(),this.wrapper?this.wrapper.removeClass("e-focused"):this.element.removeClass("e-focused"),this._checkInComplete(),this._checkMinMax(this.target.value)||(this.element.val(this.focusVal),this._raiseChangeEvent())},_getCaretSelection:function(){var n=this.element[0],t=0,i=0;return isNaN(n.selectionStart)||(t=n.selectionStart,i=n.selectionEnd),{start:Math.abs(t),end:Math.abs(i)}},_mouseDownOnInput:function(){this.focused||this._focusElement(),this.downPosition=this._getCaretSelection(),this._checkInComplete(),n(document).bind("mouseup",n.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){var i,r;t.preventDefault(),n(document).unbind("mouseup",n.proxy(this._mouseUpOnInput,this)),i=this._getCaretSelection(),this.incomplete&&(this.incomplete=!1,i=this.downPosition),r=this._getStartEnd(i),this._setSelection(r.start,r.end)},_getCategoryPosition:function(n){var i=0,r=0,u=this.target.value.split(" "),t=this._getElePlace(),o=this.seperator,e=!1,f;if(n=="tt")(u[t.tt]==this.ttAM||u[t.tt]==this.ttPM)&&(i=t.tt==0?0:u[t.time].length+1,r=i+u[t.tt].length,e=!0);else{i=t.time==0?0:u[t.tt].length+1;var s=this.model.timeFormat.split(" ")[t.time].split(o),c=this.target.value.split(" ")[t.time].split(o),h=s.indexOf(n);if(h!=-1){for(f=0;f<s.length;f++)if(r=c[f].length+1,f==h)break;else i+=r;r+=i-1,e=!0}}return{start:i,end:r,isValid:e}},_getCategory:function(n){var t=this.model.timeFormat.split(" "),r=this.seperator,i=this._getElePlace();return n.isTT?t[i.tt]:t[i.time].split(r)[n.index]},_getStartEnd:function(n){for(var s=this.seperator,h=this.target.value,i=h.split(" "),r=0,f=0,e=tt=null,u,t=0;t<i.length;t++)if(i[t]!=this.ttAM&&i[t]!=this.ttPM){var o=i[t].split(s),c=r,l=r+o[0].length;for(u=0;u<o.length;u++)if(f=o[u].length+r,n.start<=f){e=u,tt=!1,t=i.length;break}else r+=o[u].length+1}else if(n.start<=r+i[t].length){f=i[t].length+r,e=0,tt=!0,t=i.length;break}else r+=i[t].length+1;return e==null&&(r=c,f=l,e=0,tt=!1),{start:r,end:f,index:e,isTT:tt}},_modifyValue:function(){var t=this._getCaretSelection(),n,i,r;t.start==t.end?(i=this._getLeast(!0),r=this._getCategoryPosition(i),n=this._getStartEnd(r)):n=this._getStartEnd(t),this.start=n.start,this.end=n.end,this._changeValue(n)},_keyUpOnInput:function(n){n.preventDefault()},_getNextCategory:function(t,i){var r=[],e=this.seperator,o=this.model.timeFormat.split(" "),u,f;return(n(o).each(function(n,t){if(t=="tt")r.push(t);else{var i=t.split(e);r=i.concat(r)}}),u=r.indexOf(t),u!=-1)?(f=i?u==0?r.length-1:u-1:u==r.length-1?0:u+1,r[f]):t},_getElePlace:function(){var i=this.model.timeFormat.split(" "),n,t;return i[0]=="tt"?(n=1,t=0):(n=0,t=1),{time:n,tt:t}},_movePosition:function(n,t){var i=this._getStartEnd(n),r=this._getCategory(i),u=this._getNextCategory(r,t),i=this._getCategoryPosition(u);i.isValid&&this._setSelection(i.start,i.end)},_moveLeft:function(){var n=this._getCaretSelection();this._movePosition(n,!0)},_moveRight:function(n){this._movePosition(n,!1)},_keyDownOnInput:function(n){var i=this._getCaretSelection(),k,t=n.keyCode,a,f,v,e,h,o,r,y,c,l;if(k=this.target.value,this.showDropdown&&t!=38&&t!=40&&t!=9&&t!=13&&t!=27&&t!=35&&t!=36)return!1;switch(n.keyCode){case 38:n.preventDefault(),this.showDropdown?(this._activeItem>1&&(this._activeItem-=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(this.increment=!0,this._checkInComplete(),this._modifyValue());break;case 40:n.preventDefault(),n.altKey?this._showhidePopup():this.showDropdown?(this._activeItem<this._listSize&&(this._activeItem+=1),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(this.increment=!1,this._checkInComplete(),this._modifyValue());break;case 37:n.preventDefault(),this._navigateLeft(i);break;case 39:n.preventDefault(),this._navigateRight(i);break;case 36:n.preventDefault(),this.showDropdown?(this._activeItem=1,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(a=this._firstlastVal(!0),f=this._getCategoryPosition(a),f.isValid&&this._setSelection(f.start,f.end));break;case 35:n.preventDefault(),this.showDropdown?(this._activeItem=this._listSize,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(v=this._firstlastVal(!1),e=this._getCategoryPosition(v),e.isValid&&this._setSelection(e.start,e.end));break;case 9:this._hideResult(),n.shiftKey&&i.start>0?(n.preventDefault(),this._navigateLeft(i)):!n.shiftKey&&i.end<this.element.val().length&&(n.preventDefault(),this._navigateRight(i));break;case 27:case 13:this._hideResult();break;case 8:case 46:n.preventDefault(),h=this._getCurrentPart(),h!="tt"&&(this._findCategoryPosition(h),o=this.start,r=this.end,this.element[0].value=this._replaceAt(this.target.value,o,r,"__"),y=r-o!=2?r+1:r,this._setSelection(o,y))}if(this.model.disableManualInput)return this._allowKeyCodes(n);var s=this._getCurrentPart(),p=this._getCaretSelection(),w=this._getSelectedValue(),b=n.keyCode?n.keyCode:n.charCode,u;n.keyCode>47&&n.keyCode<58?u=String.fromCharCode(b):n.keyCode>95&&n.keyCode<106&&(u=String.fromCharCode(b-48)),s=="tt"&&(!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>64&&n.keyCode<91||n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106)&&(n.preventDefault(),c=this._getCategoryPosition(s),this.start=c.start,this.end=c.end,this._changeAmPm(w),this._raiseChangeEvent()),!n.shiftKey&&!n.ctrlKey&&!n.altKey&&n.keyCode>47&&n.keyCode<58||n.keyCode>95&&n.keyCode<106?s!="tt"&&(this._getMinMax(s,!0),p.start==p.end?(l=w+u,Number(l)>=this.min&&this.max>=Number(l)||n.preventDefault()):Number(u)>=this.min&&this.max>=Number(u)||n.preventDefault()):this._allowKeyCodes(n)||n.preventDefault()},_navigateLeft:function(){this._checkInComplete(),this._moveLeft()},_navigateRight:function(n){this._checkInComplete(),this._moveRight(n)},_allowKeyCodes:function(n){return n.ctrlKey&&(n.keyCode==65||n.keyCode==67||n.keyCode==90||n.keyCode==89)||n.keyCode==9||n.keyCode==116?!0:!1},_firstlastVal:function(n){var t=this.model.timeFormat.split(" "),i=this.seperator;return n?t[0]!="tt"?t[0].split(i)[0]:"tt":t[0]!="tt"?"tt":t[1]?t[1].split(i).lastItem():"tt"},_mouseWheel:function(n){n.preventDefault();var t,i=n.originalEvent;i.wheelDelta?t=i.wheelDelta/120:i.detail&&(t=-i.detail/3),t>0?(this.increment=!0,this._checkInComplete(),this._modifyValue()):t<0&&(this.increment=!1,this._checkInComplete(),this._modifyValue())},_removeListHover:function(){n(this._timeListID).removeClass("time-selected")},_addListHover:function(){this._removeListHover();var n=this._getActiveItem();n.addClass("time-selected"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop()}),n.focus()},_getActiveItem:function(){return n(n(this._timeListID)[this._activeItem-1])},_timeIconClick:function(n){if(n.preventDefault(),this.wrapper.hasClass("disabled")||this.ul.find("li").length<1)return!1;this._showhidePopup();var t=this.element.val().length;this._setSelection(t,t)},_showhidePopup:function(){this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){this._refreshScroller(),this.focused||this._focusElement(),this._changeActiveEle(),this._setListPosition();var t=this._vissibleAndCalculateTop();this.popupList.slideDown(200,"easeOutQuad"),this.scrollerObj.setModel({scrollTop:t}),this.showDropdown=!0,this._listSize=n(this._timeListID).size(),n(document).bind("mousedown",n.proxy(this._OnDocumentClick,this))},_hideResult:function(){this.showDropdown&&(this.showDropdown=!1,this.popupList.slideUp(100,"easeOutQuad"),n(document).unbind("mousedown",n.proxy(this._OnDocumentClick,this)))},_vissibleAndCalculateTop:function(){this.popupList.css({display:"block",visibility:"hidden"});var n=this._calcScrollTop();return this.popupList.css({display:"none",visibility:"visible"}),n},_calcScrollTop:function(){var i=this.ul[0].offsetHeight,n=this.ul.find("li")[0].offsetHeight,t;return t=this.ul.find("li.time-selected").index(),n*t-(this.popupList[0].offsetHeight-n)/2},_changeActiveEle:function(){var i=this.getTime(),t=this,r=this.ul.find("li"),u=r.length;n(r).each(function(n,f){return Date.parse(t._createObject(f.innerHTML))==Date.parse(t._createObject(i))||t._compareTime(i,f.innerHTML)&&(u==n+1||t._compareTime(r[n+1].innerHTML,i))?(t._activeItem=n+1,!1):u==n+1?(t._activeItem=n,!1):void 0}),this._addListHover()},_OnDocumentClick:function(t){(n(t.target).parents().hasClass("vScroll")||n(t.target).hasClass("vScroll"))&&t.preventDefault()},_OnMouseEnter:function(t){if(this.wrapper.hasClass("disabled"))return!1;var i=t.target;n(this._timeListID).removeClass("listHover"),n(i).addClass("listHover")},_OnMouseLeave:function(){n(this._timeListID).removeClass("listHover")},_OnMouseClick:function(t){t.preventDefault(),this._selectTimeItem(n(t.target)),this._activeItem=n(t.target).index()+1,this._showhidePopup()},_selectTimeItem:function(n){this.element.val(n.text()),this._raiseChangeEvent()},_findCategoryPosition:function(n){var i,t;i=n=="least"?this._getLeast(!0):n,t=this._getCategoryPosition(i),this.start=t.start,this.end=t.end},_getLeast:function(t){var r=this.model.timeFormat.split(" "),u=this.seperator,i=null;return n(r).each(function(n,r){if(r!="tt"){var f=r.split(u);i=t?f[f.length-1]:f[0]}}),i},_changeValue:function(n){var r=this.target.value,t,u=this._getCategory(n),i;this._setSelection(this.start,this.end),t=this.target.value.substring(this.start,this.end),t!=this.ttAM&&t!=this.ttPM?(i=u,t=this._changeCurrentValue(t),i.length!=1&&(t=this._changeWhole(t)),this._findCategoryPosition(i),this.element.val(this._replaceAt(this.target.value,this.start,this.end,t)),this.end=this.start+t.toString().length,this._setSelection(this.start,this.end)):this._changeAmPm(t),this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(r),this._setSelection(this.start,this.end))},_checkMinMax:function(n){var t=r2=!0;return(this.model.minTime&&!this._compareTime(n,this.model.minTime,!0)&&(t=!1),this.model.maxTime&&!this._compareTime(this.model.maxTime,n,!0)&&(r2=!1),t&&r2)?!0:!1},_changeWhole:function(n){return n>9?""+n:"0"+n},_changeAmPm:function(n){n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)),this._setSelection(this.start,this.end)},_changeMinute:function(){var t=this._getExactFormat(["mm","m"]),n;t&&(this._findCategoryPosition(t),n=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(t),this.increment?n==this.max?(n=this.min,this._changeHour()):n+=1:n==this.min?(n=this.max,this._changeHour()):n-=1,this._findCategoryPosition(t),t.length!=1&&(n=this._changeWhole(n)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_changeHour:function(){var t=this._getExactFormat(["hh","h","HH","H"]),n;t&&(this._findCategoryPosition(t),n=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(t),this.increment?n==this.max?(n+=1,this._changeMeridian()):n>this.max?n=this.min:n+=1:n==this.min?n=this.max+1:n>this.max?(n=this.max,this._changeMeridian()):n-=1,this._findCategoryPosition(t),t.length!=1&&(n=this._changeWhole(n)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_getExactFormat:function(n){for(var i=this.model.timeFormat,t=0;t<n.length;t++)if(i.indexOf(n[t])!=-1)return n[t];return null},_changeMeridian:function(){var t=this.model.timeFormat.indexOf("tt"),n;t!=-1&&(this._findCategoryPosition("tt"),n=this.target.value.substring(this.start,this.end),n=n==this.ttAM?this.ttPM:this.ttAM,this.element.val(this._replaceAt(this.target.value,this.start,this.end,n)))},_changeCurrentValue:function(n){n=Number(n);var t=this._getCurrentPart(),i=1,r=!0;return(this._getMinMax(t),t=="hh"||t=="h"||t=="HH"||t=="H"?i=this.model.hourInterval:t=="mm"||t=="m"?i=this.model.minInterval:(t=="ss"||t=="s")&&(i=this.model.secInterval),i<=0)?n:(this.increment?((t=="hh"||t=="h")&&n>this.max?n=this.min-1+i:n<this.max?n+=i:(r=!1,t!="hh"&&t!="h"?n=this.min-1+i:n+=i,this._changeAdjacent(t)),(t=="hh"||t=="h")&&n==this.max+1?r&&this._changeAdjacent(t):n>this.max+1&&(n=n-(this.max+1),r&&this._changeAdjacent(t)),t!="hh"&&t!="h"&&n==this.max+1&&(n=this.min,r&&this._changeAdjacent(t))):(t!="hh"&&t!="h"&&n>this.min?n-=i:(t=="hh"||t=="h")&&n>this.min&&n<=this.max?n-=i:(t=="hh"||t=="h")&&n==this.min?n=this.max+2-i:(r=!1,n=this.max+1-i,this._changeAdjacent(t)),n<this.min&&(n=n+(this.max+1),r&&this._changeAdjacent(t))),n)},_changeAdjacent:function(n){n=="ss"||n=="s"?this._changeMinute():n=="mm"||n=="m"?this._changeHour():(n=="hh"||n=="h"||n=="HH"||n=="H")&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_raiseChangeEvent:function(){if(this.model.time==this.target.value)return!1;this._checkMinMax(this.target.value)&&(this.focusVal=this.target.value,this.model.time=this.target.value,this.model.change&&this._trigger("change",{value:this.target.value}))},_replaceAt:function(n,t,i,r){return n.substring(0,t)+r+n.substring(i)},_localizeTime:function(t,i){return n.trim(Globalize.format(this._createObject(t),i,this.model.localize))},_localizeMeridian:function(t){return n.trim(Globalize.format(this._createObject(t),"tt",this.model.localize))},_compareTime:function(n,t,i){return i=i?!0:!1,i?Date.parse(this._createObject(n))>=Date.parse(this._createObject(t)):Date.parse(this._createObject(n))>Date.parse(this._createObject(t))},_isValid:function(n){return isFinite(this._createObject(n).getTime())},_createObject:function(n){return typeof n=="string"||n==null?new Date("1/1/2000 "+n):typeof n=="number"?new Date(n):n},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput),this._on(this.element,"input",this._valueChange),this._on(this.timeIcon,"mousedown",this._timeIconClick)}})})(jQuery,Syncfusion)