/*!
*  filename: ej.lineargauge.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t,i){t.widget({mLinearGauge:"m.LinearGauge",ejLinearGauge:"ej.LinearGauge"},{element:{target:null},model:null,defaults:{width:150,height:400,theme:"flatlight",orientation:"Vertical",pointerGradient1:null,pointerGradient2:null,backgroundColor:null,borderColor:null,labelColor:null,tickColor:null,readOnly:!0,frameBackgroundImageUrl:null,frameOuterWidth:12,frameInnerWidth:8,scales:null,animate:!0,animationSpeed:500,drawTicks:null,drawLabels:null,drawBarPointers:null,drawMarkerPointers:null,drawRange:null,drawCustomLabel:null,drawIndicators:null,load:null,init:null,renderComplete:null},_defaultScaleValues:function(){return{minimum:0,maximum:100,majorIntervalValue:10,minorIntervalValue:2,scaleDirection:"CounterClockwise",backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN,scaleBarSize:30,shadowOffset:0,scaleBarLength:290,scaleStyle:"Rectangle",location:{x:50,y:50},showRanges:!1,showIndicators:!1,showCustomLabel:!1,showLabels:!0,showTicks:!0,showBarPointers:!0,showMarkerPointers:!0,ticks:[{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MajorInterval",tickPlacement:"Near",opacity:0,tickHeight:10,tickWidth:3},{xDistanceFromScale:0,yDistanceFromScale:0,angle:0,tickColor:null,tickStyle:"MinorInterval",tickPlacement:"Near",opacity:0,tickHeight:5,tickWidth:2}],ranges:[{endWidth:10,rangePosition:"Center",startWidth:10,distanceFromScale:0,endValue:60,startValue:20,rangeGradient:null,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:null}],labels:[{yDistanceFromScale:0,xDistanceFromScale:-10,angle:0,font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},textColor:null,opacity:0,labelStyle:"Major",labelPlacement:"Near",includeFirstValue:!0}],markerPointers:[{markerStyle:"Triangle",pointerLength:30,pointerPlacement:"Far",pointerGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],barPointers:[{scaleBarGradient:null,distanceFromScale:0,pointerWidth:30,value:50,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:1}],indicators:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},indicatorHeight:30,indicatorStyle:"Rectangle",indicatorWidth:30,location:{x:0,y:0},textLocation:{x:0,y:0},stateRanges:[{endValue:60,startValue:50,backgroundColor:null,borderColor:null,text:"",textColor:null}],value:0,backgroundColor:null,borderColor:null,borderWidth:1.5,opacity:NaN}],customLabel:[{font:{size:"11px",fontFamily:"Arial",fontStyle:"Bold"},labelColor:null,opacity:0,labelValue:"",textAngle:0,location:{x:0,y:0}}]}},dataTypes:{},_init:function(){this._initialize(),this._trigger("load"),this._setTheme(),this._render(),this.model.readOnly||this.wireEvents()},_setModel:function(n){var t;for(t in n)switch(t){case"theme":this.model.theme=n[t],this._init();break;case"height":this.model.height=n[t];break;case"width":this.model.width=n[t];break;case"orientation":this.model.orientation=n[t];break;case"pointerGradient1":this.model.pointerGradient1=n[t];break;case"pointerGradient2":this.model.pointerGradient2=n[t];break;case"labelColor":this.model.labelColor=n[t];break;case"tickColor":this.model.tickColor=n[t];break;case"backgroundColor":this.model.backgroundColor=n[t];break;case"borderColor":this.model.borderColor=n[t];break;case"frameBackgroundImageUrl":this.model.frameBackgroundImageUrl=n[t];break;case"frameOuterWidth":this.model.frameOuterWidth=n[t];break;case"frameInnerWidth":this.model.frameInnerWidth=n[t];break;case"readOnly":this.model.readOnly=n[t];break;case"scales":this.model.scales=n[t],this._itemInitialize()}this._render()},_destroy:function(){this.activeElement=null,this.canvasEl=null,this.contextEl=null,this.unWireEvents(),this.element.remove()},_initialize:function(){this.GaugeEl=this.element,this.scaleStartX=[],this.scaleStartY=[],this.isScaleModified=!1,this.target=this.element[0],this._itemInitialize(),this.Model=this.model},_render:function(){this.initialize()},_itemInitialize:function(){var t=this;this.model.scales!=null?n.each(this.model.scales,function(i,r){r=t._checkArrayObject(r,i);var u=t._defaultScaleValues();n.extend(u,r),n.extend(r,u)}):this.model.scales=[this._defaultScaleValues()]},_checkArrayObject:function(t,i){var r=this;return n.each(t,function(n,t){if(t instanceof Array)t=r._checkArrayObject(t,n);else if(t!=null&&typeof t=="object"){var u=r._defaultScaleValues();t=r._LoadIndividualDefaultValues(t,u,typeof n=="number"?i:n)}}),t},_LoadIndividualDefaultValues:function(t,i,r){var u=null,f=this;return n.each(i,function(n,t){if(r==n){u=t;return}}),u instanceof Array&&(u=u[0]),n.each(t,function(n,t){t instanceof Array?t=f._checkArrayObject(t,r):t!=null&&typeof t=="object"&&(t=f._LoadIndividualDefaultValues(t,u,typeof n=="number"?r:n))}),n.extend(u,t),n.extend(t,u),t},initialize:function(){this._initObject(this),this.Model.frameBackgroundImageUrl?this._drawCustomImage(this,this.Model.frameBackgroundImageUrl):this.Model.scales!=null&&this._drawScales()},_initObject:function(t){t.GaugeEl=n("#"+t.target.id),t.canvasEl?t.canvasEl.remove():t.canvasEl=n("<canvas><\/canvas>"),t.GaugeEl.append(t.canvasEl),t.GaugeEl.css("width",t.model.width),t.GaugeEl.css("height",t.model.height),t.canvasEl[0].setAttribute("width",t.GaugeEl.width()),t.canvasEl[0].setAttribute("height",t.GaugeEl.height()),t.centerX=t.canvasEl[0].width/2,t.centerY=t.canvasEl[0].height/2,t.Model.width=t.GaugeEl.width(),t.Model.height=t.GaugeEl.height();var i=t.canvasEl[0];(typeof window.G_vmlCanvasManager!="undefined"&&(i=window.G_vmlCanvasManager.initElement(i)),i&&i.getContext)&&(t.contextEl=t.canvasEl[0].getContext("2d"))},_drawFrameCircle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.arc(n.startX,n.startY,t.circleRadius,0,2*Math.PI,!0),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),this._contextClosePath(t,i),t.indicatorText&&i._drawText(n,t)},_drawFrameThermometer:function(n,t,i){var r=i.Model.orientation=="Vertical"?Math.sqrt(t.width*t.width+t.width*t.width)/2:Math.sqrt(t.height*t.height+t.height*t.height)/2;this._contextOpenPath(t,i),i.Model.orientation=="Vertical"?i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+t.height-Math.sin(Math.PI*(45/180))*r,r,Math.PI*(-45/180),Math.PI*(225/180),!1),i.contextEl.lineTo(n.startX,n.startY+t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.width/2,t.width/2,-Math.PI,0,!1):i.contextEl.lineTo(n.startX+t.width,n.startY+t.width/2)):(i.contextEl.arc(n.startX+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(-225/180),!0),i.contextEl.lineTo(n.startX,n.startY+t.height-t.width/2),t.topRounded?i.contextEl.arc(n.startX+t.width/2,n.startY+t.height-t.width/2,t.width/2,-Math.PI,0,!0):i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.width/2)):i.scaleEl[i.scaleIndex].scaleDirection=="CounterClockwise"?(i.contextEl.arc(n.startX+t.width-r/4-Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(135/180),Math.PI*(225/180),!0),i.contextEl.lineTo(n.startX+t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!0):i.contextEl.lineTo(n.startX+t.height/2,n.startY+t.height)):(i.contextEl.arc(n.startX+r/4+Math.cos(Math.PI*(45/180))*r,n.startY+Math.sin(Math.PI*(45/180))*r,r,Math.PI*(45/180),Math.PI*(315/180),!1),i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY),t.topRounded?i.contextEl.arc(n.startX+t.width-t.height/2,n.startY+t.height/2,t.height/2,Math.PI*(270/180),Math.PI*(90/180),!1):i.contextEl.lineTo(n.startX+t.width-t.height/2,n.startY+t.height)),this._contextClosePath(t,i)},_drawFrameRoundedRectangle:function(n,t,i){this._contextOpenPath(t,i),i.contextEl.moveTo(n.startX+t.radius,n.startY),i.contextEl.lineTo(n.startX+t.width-t.radius,n.startY),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY,n.startX+t.width,n.startY+t.radius),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.radius),i.contextEl.quadraticCurveTo(n.startX+t.width,n.startY+t.height,n.startX+t.width-t.radius,n.startY+t.height),i.contextEl.lineTo(n.startX+t.radius,n.startY+t.height),i.contextEl.quadraticCurveTo(n.startX,n.startY+t.height,n.startX,n.startY+t.height-t.radius),i.contextEl.lineTo(n.startX,n.startY+t.radius),i.contextEl.quadraticCurveTo(n.startX,n.startY,n.startX+t.radius,n.startY),this._contextClosePath(t,i),t.indicatorText&&this._drawText(n,t)},_contextOpenPath:function(n,t){t.contextEl.save(),t.contextEl.beginPath(),n.strokeStyle&&(t.contextEl.strokeStyle=n.strokeStyle),n.opacity!=i&&(t.contextEl.globalAlpha=n.opacity),n.lineWidth&&(t.contextEl.lineWidth=n.lineWidth),n.fillStyle&&(t.contextEl.fillStyle=n.fillStyle)},_contextClosePath:function(n,t){t.contextEl.closePath(),n.isFill&&t.contextEl.fill(),n.isStroke&&t.contextEl.stroke(),t.contextEl.restore()},_drawScales:function(){var t=this,i;this.scaleEl=this.Model.scales,this.contextEl.save(),this.contextEl.translate(this.Model.frameOuterWidth+this.Model.frameInnerWidth,this.Model.frameOuterWidth+this.Model.frameInnerWidth),n.each(this.Model.scales,function(n,i){t.scaleIndex=n,t._setScaleCordinates(i,i.scaleStyle)}),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers(),n.each(this.Model.scales,function(n,i){i.showBarPointers&&i.barPointers.length>1&&(t.model.animate=!1),i.showMarkerPointers&&i.markerPointers.length>1&&(t.model.animate=!1)}),this.model.animationSpeed!=null&&this.model.animationSpeed>0&&(i=this.model.animationSpeed/25,i>=0&&this.model.animate&&this._onAnimate(i))},_setTicks:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showTicks&&(t.scaleIndex=i,r.ticks!=null&&(t.tickEl=r.ticks,n.each(r.ticks,function(n,i){t.tickIndex=n,t._setTicksCordinates(i,n)})))})},_setLabels:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showLabels&&(t.scaleIndex=i,r.labels!=null&&(t.labelEl=r.labels,n.each(r.labels,function(n,i){t.labelIndex=n,t._setLabelCordinates(i,n)})))})},_setIndicators:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.indicators!=null&&r.showIndicators&&(t.indicatorEl=r.indicators,n.each(r.indicators,function(n,i){t.indicatorIndex=n,t._drawIndicator(n,i)}))})},_setBarPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showBarPointers&&(t.scaleIndex=i,r.barPointers!=null&&(t.barPointerEl=r.barPointers,n.each(r.barPointers,function(n,i){t.barPointerIndex=n,t._drawScaleBarPointer(i,n)})))})},_setMarkerPointers:function(){var t=this;n.each(this.Model.scales,function(i,r){r.showMarkerPointers&&(t.scaleIndex=i,r.markerPointers!=null&&(t.markerPointerEl=r.markerPointers,n.each(r.markerPointers,function(n,i){t.markerPointerIndex=n,t._drawMarkerPointer(i,n)})))})},_onAnimate:function(t){var i=this;n.each(this.Model.scales,function(n,r){r.showBarPointers&&r.barPointers!=null&&(f[this.scaleIndex]=setInterval(function(){i._animateScaleBarPointer(r.barPointers[0])},t)),r.showMarkerPointers&&r.markerPointers!=null&&(e[this.scaleIndex]=setInterval(function(){i._animateMarkerPointer(r.markerPointers[0])},t))})},_animateMarkerPointer:function(n){if(n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value,u<n.value){u++;var t,o,s,f,i,r,h,c=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];this.markerPlacement=n.pointerPlacement,s=Math.sqrt(n.pointerWidth*n.pointerWidth+n.pointerLength*n.pointerLength)/2,this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&this._modifyWidth(),this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=0),this.markerPlacement=="Near"&&(t=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-s+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=0)):(this.markerPlacement=="Far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=90),this.markerPlacement=="Near"&&(t=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=270),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-s+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,i=90)),f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(u):this._getCounterClockwiseLinePosition(u),n.markerStyle=="Star"?(r=this.Model.orientation=="Vertical"?this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex]):this.contextEl.createLinearGradient(f,t,f,t+n.pointerLength),o=f-n.pointerLength/(this.Model.orientation=="Horizontal"?2:3)):(r=this.contextEl.createLinearGradient(0,0,n.pointerWidth,0),o=f),n.backgroundColor?h=n.backgroundColor:n.pointerGradient?this._setGradientColor(this,r,n.pointerGradient.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,r,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,r,c),this.location={startX:this.Model.orientation=="Vertical"?t:o,startY:this.Model.orientation=="Vertical"?o:t},this.style={width:n.pointerWidth,radius:n.markerStyle=="Rectangle"?0:s,height:n.pointerLength,lineWidth:n.borderWidth,isFill:!0,isStroke:!0,angle:i,strokeStyle:n.borderColor,markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?h:r},this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1),this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}else clearInterval(e[this.scaleIndex])},_animateScaleBarPointer:function(n){if(n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value,r<n.value){r++;var i,s,u,e,o,h,t,c;c=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}],s=this.scaleEl[this.scaleIndex].scaleStyle=="RoundedRectangle"?5:0,this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?(lineYPosition=this._getClockwiseLinePosition(r),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))):(lineYPosition=this._getCounterClockwiseLinePosition(r),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition,t+n.pointerWidth,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition)):(t=this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))),n.backgroundColor?h=n.backgroundColor:n.scaleBarGradient?this._setGradientColor(this,i,n.scaleBarGradient.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,c),this.Model.orientation=="Vertical"?(o=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&(o=o-this.scaleEl[this.scaleIndex].scaleBarSize/2),u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,e=n.pointerWidth):(o=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,u=n.pointerWidth,e=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition),this.location={startX:t+this.scaleEl[this.scaleIndex].borderWidth/2,startY:o},this.style={width:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Horizontal"?e+u/2-this.scaleEl[this.scaleIndex].borderWidth/2:e,lineWidth:n.borderWidth,radius:s,topRounded:r==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Vertical"?u+e/2:u,strokeStyle:n.borderColor==null?this.Model.borderColor:n.borderColor,fillStyle:n.backgroundColor?h:i,opacity:isNaN(n.opacity)?.4:n.opacity},this.contextEl.putImageData(this._getBarPointerImage(),0,0),this["_drawFrame"+this.scaleEl[this.scaleIndex].scaleStyle](this.location,this.style,this),this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}else clearInterval(f[this.scaleIndex])},_setRange:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.ranges!=null&&r.showRanges&&(t.rangeEl=r.ranges,n.each(r.ranges,function(n,i){t.rangeIndex=n,t._drawRange(i)}))})},_setCustomLabel:function(){var t=this;n.each(this.Model.scales,function(i,r){t.scaleIndex=i,r.customLabel!=null&&r.showCustomLabel&&(t.customLabelEl=r.customLabel,n.each(r.customLabel,function(n,i){t.customLabelIndex=n,t._setCustomLabelCordinates(n,i)}))})},_setScaleCordinates:function(n,t){var r,i,u;this.opacity=1,this.bottomRadius=Math.sqrt(n.scaleBarSize*n.scaleBarSize+n.scaleBarSize*n.scaleBarSize)/2,this.bounds={height:this.canvasEl[0].height-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth),width:this.canvasEl[0].width-2*(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.Model.orientation=="Vertical"?(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarSize)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarLength)*(n.location.y/100)):(this.scaleStartX[this.scaleIndex]=(this.bounds.width-n.scaleBarLength)*(n.location.x/100),this.scaleStartY[this.scaleIndex]=(this.bounds.height-n.scaleBarSize)*(n.location.y/100)),u=t=="RoundedRectangle"?5:0,r={startX:this.scaleStartX[this.scaleIndex],startY:this.scaleStartY[this.scaleIndex]},i={width:this.Model.orientation=="Vertical"?n.scaleBarSize:n.scaleBarLength,isStroke:!0,topRounded:!0,fillStyle:n.backgroundColor?this._getColor(n,n.backgroundColor):this._getColor(n,this.Model.backgroundColor),lineWidth:n.borderWidth,radius:u,height:this.Model.orientation=="Vertical"?n.scaleBarLength:n.scaleBarSize,isStroke:!0,isFill:!0,strokeStyle:n.borderColor?this._getColor(n,n.borderColor):this._getColor(n,this.Model.borderColor)},n.shadowOffset&&(this.contextEl.shadowBlur=n.shadowOffset,this.contextEl.shadowColor=i.fillStyle),this["_drawFrame"+t](r,i,this),this.scaleEl[this.scaleIndex].scaleStyle!="Thermometer"||this.isScaleModified||(this._modifyWidth(),this.isScaleModified=!0),this.contextEl.getImageData&&(this.scaleImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_setTicksCordinates:function(n){var i,u,f,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue){for(r=n.tickStyle=="MajorInterval"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.tickPlacement=="Near"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]:this.scaleStartY[this.scaleIndex]:n.tickPlacement=="Far"?i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize:n.tickPlacement=="Center"&&(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2),u=n.tickPlacement=="Near"?-n.tickHeight:n.tickHeight,t=this.scaleEl[this.scaleIndex].maximum;t>=this.scaleEl[this.scaleIndex].minimum;t-=r)(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(f=this._getClockwiseLinePosition(t),this.location={lineChangePosition:f+(this.Model.orientation=="Horizontal"?n.xDistanceFromScale:n.yDistanceFromScale),lineStaticPosition:i+(this.Model.orientation=="Horizontal"?n.yDistanceFromScale:n.xDistanceFromScale)},this.style={lineHeight:u,angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,tickShape:n.TickShape,strokeStyle:n.tickColor?this._getColor(n,n.tickColor):this._getColor(n,this.Model.tickColor),lineWidth:n.tickWidth},this.Model.drawTicks&&this._onDrawTicks(this.Model.orientation=="Vertical"?n.angle:n.angle+270,t),this._drawTickMark(this.location,this.style));this.contextEl.getImageData&&(this.tickImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))}},_drawTickMark:function(n,t){var i=this.Model.orientation=="Vertical"?t.lineHeight-n.lineStaticPosition:n.lineStaticPosition;this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.lineWidth=t.lineWidth,this.contextEl.strokeStyle=t.strokeStyle,this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.lineTo(t.lineHeight,0),this.contextEl.stroke(),this.contextEl.restore(),this.contextEl.closePath()},_addDecimal:function(n,t){var r=n.toString(),u=t.toString(),f,e,i,o;return f=r.indexOf(".")>-1?r.length-r.indexOf(".")-1:0,e=u.indexOf(".")>-1?u.length-u.indexOf(".")-1:0,i=f>e?f:e,o=(n*Math.pow(10,i)+t*Math.pow(10,i))/Math.pow(10,i),o},_setLabelCordinates:function(n){var u,f,i,e,r,t;if(this.scaleEl[this.scaleIndex].majorIntervalValue>this.scaleEl[this.scaleIndex].minorIntervalValue)for(this.Model.orientation=="Vertical"?(u=n.xDistanceFromScale,f=n.yDistanceFromScale):(u=n.yDistanceFromScale,f=n.xDistanceFromScale),r=n.labelStyle=="Major"?this.scaleEl[this.scaleIndex].majorIntervalValue:this.scaleEl[this.scaleIndex].minorIntervalValue,n.labelPlacement=="Near"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth-5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"right":"center"):n.labelPlacement=="Far"?(i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth+5,this.contextEl.textAlign=this.Model.orientation=="Vertical"?"left":"center"):(this.contextEl.textAlign="center",i=this.Model.orientation=="Vertical"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+this.scaleEl[this.scaleIndex].borderWidth/2),t=this.scaleEl[this.scaleIndex].minimum;t<=this.scaleEl[this.scaleIndex].maximum;t=this._addDecimal(t,r))(r==this.scaleEl[this.scaleIndex].minorIntervalValue&&t%this.scaleEl[this.scaleIndex].majorIntervalValue!=0||r==this.scaleEl[this.scaleIndex].majorIntervalValue)&&(e=this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"?this._getCounterClockwiseLinePosition(t):this._getClockwiseLinePosition(t),this.labelValue=t,this.location={lineChangePosition:e+f,lineStaticPosition:i+u},this.style={angle:this.Model.orientation=="Vertical"?n.angle:n.angle+270,fillStyle:n.textColor?this._getColor(n,n.textColor):this._getColor(n,this.Model.labelColor),opacity:isNaN(n.opacity)?1:n.opacity,font:this._getFontString(this,n.font),textValue:this.labelValue},this.Model.drawLabels&&this._onDrawLabels(this.Model.orientation=="Vertical"?n.angle:n.angle+270),this._drawLabel(this.location,this.style));this.contextEl.getImageData&&(this.labelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawLabel:function(n,t){this.contextEl.beginPath(),this.contextEl.save(),this.contextEl.textBaseline="middle",this.contextEl.fillStyle=t.fillStyle,this.contextEl.font=t.font,t.opacity&&(this.contextEl.globalAlpha=t.opacity),this.Model.orientation=="Vertical"?this.contextEl.translate(n.lineStaticPosition,n.lineChangePosition):this.contextEl.translate(n.lineChangePosition,n.lineStaticPosition),this.contextEl.moveTo(0,0),this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.contextEl.rotate(Math.PI*(t.angle/180)):this.contextEl.rotate(-(Math.PI*(t.angle/180))),this.contextEl.fillText(t.textValue,0,0),this.contextEl.fill(),this.contextEl.restore()},_drawScaleBarPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var i,e,r,u,f,o,t,s;s=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}],e=this.scaleEl[this.scaleIndex].scaleStyle=="RoundedRectangle"?5:0,this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?(lineYPosition=this._getClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex])):(t=this.scaleStartX[this.scaleIndex],i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))):(lineYPosition=this._getCounterClockwiseLinePosition(n.value),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isScaleModified&&(this._restoreWidth(),this.isModify=!0),this.Model.orientation=="Vertical"?(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition,t+n.pointerWidth,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition)):(t=this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?lineYPosition-this.scaleEl[this.scaleIndex].scaleBarSize/2-this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,i=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2,t,this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2+n.pointerWidth/2))),n.backgroundColor?o=this._getColor(n,n.backgroundColor):n.scaleBarGradient?this._setGradientColor(this,i,n.scaleBarGradient.ColorInfo):this.Model.ScaleInterior?this._setGradientColor(this,i,this.Model.ScaleInterior.ColorInfo):this._setGradientColor(this,i,s),this.Model.orientation=="Vertical"?(f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].borderWidth/2:lineYPosition,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&(f=f-this.scaleEl[this.scaleIndex].scaleBarSize/2),r=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartY[this.scaleIndex]:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition-this.scaleEl[this.scaleIndex].borderWidth/2,u=n.pointerWidth):(f=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,r=n.pointerWidth,u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?lineYPosition-this.scaleStartX:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarLength-lineYPosition),this.location={startX:t+this.scaleEl[this.scaleIndex].borderWidth/2,startY:f},this.style={width:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Horizontal"?u+r/2-this.scaleEl[this.scaleIndex].borderWidth/2:u,lineWidth:n.borderWidth,radius:e,topRounded:n.value==this.scaleEl[this.scaleIndex].maximum?!0:!1,isStroke:!1,isFill:!0,height:this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.Model.orientation=="Vertical"?r+u/2:r,strokeStyle:n.borderColor==null?this._getColor(n,this.Model.borderColor):this._getColor(n,n.borderColor),fillStyle:n.backgroundColor?this._getColor(n,o):this._getColor(n,i),opacity:isNaN(n.opacity)?.4:n.opacity},this.Model.drawBarPointers&&this._onDrawBarPointers(n.value),this["_drawFrame"+this.scaleEl[this.scaleIndex].scaleStyle](this.location,this.style,this),this.contextEl.getImageData&&(this.barPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawMarkerPointer:function(n){n.value=n.value>this.scaleEl[this.scaleIndex].maximum?this.scaleEl[this.scaleIndex].maximum:n.value,n.value=n.value<this.scaleEl[this.scaleIndex].minimum?this.scaleEl[this.scaleIndex].minimum:n.value;var t,r,e,f,i,u,o,s=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];this.markerPlacement=n.pointerPlacement,e=Math.sqrt(n.pointerWidth*n.pointerWidth+n.pointerLength*n.pointerLength)/2,this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&this._modifyWidth(),this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(t=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=0),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartX[this.scaleIndex]+n.distanceFromScale-n.pointerWidth:this.scaleStartX[this.scaleIndex]+n.distanceFromScale,i=180),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale+n.borderWidth:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,i=0)):(this.markerPlacement=="Far"&&(t=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=90),this.markerPlacement=="Near"&&(t=n.markerStyle=="Star"?this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale-n.pointerLength:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,i=270),this.markerPlacement=="Center"&&(t=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale+n.borderWidth:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,i=90)),f=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.value):this._getCounterClockwiseLinePosition(n.value),n.markerStyle=="Star"?this.Model.orientation=="Vertical"?(u=this.contextEl.createLinearGradient(t,this.scaleStartY[this.scaleIndex],t+n.pointerWidth,this.scaleStartY[this.scaleIndex]),r=f-n.pointerLength/3):(u=this.contextEl.createLinearGradient(f,t,f,t+n.pointerLength),r=f-n.pointerWidth/2):(u=this.contextEl.createLinearGradient(0,0,n.pointerWidth,0),r=f),n.markerStyle=="RoundedRectangle"&&(this.Model.orientation=="Vertical"&&this.markerPlacement=="Near"?r+=n.pointerLength:this.Model.orientation=="Horizontal"&&(this.markerPlacement=="Near"&&(r-=n.pointerWidth),t+=n.pointerWidth/2)),n.backgroundColor?o=this._getColor(n,n.backgroundColor):n.pointerGradient?this._setGradientColor(this,u,n.pointerGradient.ColorInfo):this.Model.PointerInterior?this._setGradientColor(this,u,this.Model.PointerInterior.ColorInfo):this._setGradientColor(this,u,s),this.location={startX:this.Model.orientation=="Vertical"?t:r,startY:this.Model.orientation=="Vertical"?r:t},this.style={width:n.pointerWidth,radius:n.markerStyle=="Rectangle"?0:e,height:n.pointerLength,lineWidth:n.borderWidth,isFill:!0,isStroke:!0,angle:i,strokeStyle:this._getColor(n,n.borderColor),markerPlacement:this.markerPlacement,opacity:isNaN(n.opacity)?.4:n.opacity,fillStyle:n.backgroundColor?this._getColor(n,o):this._getColor(n,u)},this.Model.drawMarkerPointers&&this._onDrawMarkerPointers(i,n.value),n.markerStyle=="RoundedRectangle"&&(this.style.radius=5),this["_draw"+n.markerStyle](this.location,this.style,this),this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"&&this.isModify&&(this._restoreWidth(),this.isScaleModified=!1),this.contextEl.getImageData&&(this.markerPointerImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRange:function(n){this.rangePosition=n.rangePosition;var u,t,f,i,r,e,o=[{ColorStop:0,Color:this.Model.pointerGradient1},{ColorStop:1,Color:this.Model.pointerGradient2}];u=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.startValue):this._getCounterClockwiseLinePosition(n.startValue),t=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this._getClockwiseLinePosition(n.endValue):this._getCounterClockwiseLinePosition(n.endValue),this.Model.orientation=="Vertical"?(n.rangePosition=="Far"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(f=this.scaleStartX[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(f=n.startWidth>n.endWidth?this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartX[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),r=this.contextEl.createLinearGradient(t,t,t,u),this.location={startX:f,startY:u,endY:t}):(n.rangePosition=="Far"&&(i=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+n.distanceFromScale+this.scaleEl[this.scaleIndex].borderWidth),n.rangePosition=="Near"&&(i=this.scaleStartY[this.scaleIndex]+n.distanceFromScale),n.rangePosition=="Center"&&(i=n.startWidth>n.endWidth?this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.startWidth/2:this.scaleStartY[this.scaleIndex]+n.distanceFromScale+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.endWidth/2),r=this.contextEl.createLinearGradient(t,i,u,i),this.location={startX:u,startY:i,endX:t}),n.backgroundColor?e=this._getColor(n,n.backgroundColor):n.rangeGradient?this._setGradientColor(this,r,n.rangeGradient.ColorInfo):this.Model.RangeInterior?this._setGradientColor(this,r,this.Model.RangeInterior.ColorInfo):this._setGradientColor(this,r,o),this.style={startWidth:n.startWidth,lineWidth:n.borderWidth,isStoke:!0,isFill:!0,opacity:isNaN(n.opacity)?.4:n.opacity,endWidth:n.endWidth,fillStyle:n.backgroundColor?this._getColor(n,e):this._getColor(n,r),strokeStyle:n.borderColor?this._getColor(n,n.borderColor):this._getColor(n,this.Model.borderColor)},this.Model.drawRange&&this._onDrawRange(),this._drawRangeBar(this.location,this.style),this.contextEl.getImageData&&(this.rangeImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawRangeBar:function(n,t){this._contextOpenPath(t,this),this.Model.orientation=="Vertical"?(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.startX,n.endY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.startX-t.endWidth,n.endY),this.contextEl.lineTo(n.startX-t.startWidth,n.startY)):(this.contextEl.lineTo(n.startX+t.endWidth,n.endY),this.contextEl.lineTo(n.startX+t.startWidth,n.startY))):(this.contextEl.moveTo(n.startX,n.startY),this.contextEl.lineTo(n.endX,n.startY),this.rangePosition=="Near"?(this.contextEl.lineTo(n.endX,n.startY-t.endWidth),this.contextEl.lineTo(n.startX,n.startY-t.startWidth)):(this.contextEl.lineTo(n.endX,n.startY+t.endWidth),this.contextEl.lineTo(n.startX,n.startY+t.startWidth))),this._contextClosePath(t,this)},_setCustomLabelCordinates:function(n,t){var i,r;this.contextEl.textAlign="center",this.Model.orientation=="Vertical"?(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)):(i=this.bounds.width*(t.location.x/100),r=this.bounds.height*(t.location.y/100)),this.location={lineStaticPosition:this.Model.orientation=="Vertical"?i:r,lineChangePosition:this.Model.orientation=="Vertical"?r:i},this.style={angle:t.textAngle,textValue:t.labelValue,fillStyle:t.labelColor?this._getColor(t,t.labelColor):this._getColor(t,this.Model.labelColor),font:t.font},this.Model.drawCustomLabel&&this._onDrawCustomLabel(),this._drawLabel(this.location,this.style),this.contextEl.getImageData&&(this.customLabelImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawIndicator:function(t,i){var r=this,u,f,e,o=!1;u=(this.bounds.width-2*i.indicatorWidth)*(i.location.x/100),f=(this.bounds.height-2*i.indicatorHeight)*(i.location.y/100),e={x:this.bounds.width*(i.textLocation.x/100),y:this.bounds.height*(i.textLocation.y/100)},r.location={startX:i.indicatorStyle=="Circle"?u+i.indicatorWidth:u,textLocation:e,startY:i.indicatorStyle=="Circle"?f+i.indicatorHeight:f,startAngle:0,endAngle:2*Math.PI},r.style={radius:i.indicatorStyle=="RoundedRectangle"?2:0,strokeStyle:i.borderColor?this._getColor(i,i.borderColor):this._getColor(i,"#FFFFFF"),angle:0,circleRadius:(i.indicatorHeight+i.indicatorWidth)/2,height:i.indicatorHeight,width:i.indicatorWidth,lineWidth:i.borderWidth,fillStyle:i.backgroundColor?this._getColor(i,i.backgroundColor):this._getColor(i,"#FFFFFF"),isStroke:!0,isFill:!0,indicatorText:null,textColor:null,font:null,counterClockwise:!1},this.Model.drawIndicators&&this._onDrawIndicators(r.style,r.location),i.stateRanges!=null&&n.each(i.stateRanges,function(n,t){i.value>=t.startValue&&i.value<=t.endValue&&(o=!0,t.text.length>0&&(r.style.indicatorText=t.text,r.style.textColor=this._getColor(i,t.textColor),r.style.font=this._getFontString(r,i.font)),r.style.strokeStyle=this._getColor(i,t.borderColor),r.style.fillStyle=this._getColor(i,t.backgroundColor),this["_drawFrame"+i.indicatorStyle](r.location,r.style,r))}),o||this["_drawFrame"+i.indicatorStyle](r.location,r.style,r),this.contextEl.getImageData&&(this.indicatorImage=this.contextEl.getImageData(0,0,this.Model.width,this.Model.height))},_drawText:function(n,t){this.contextEl.beginPath(),this.contextEl.textAlign="center",this.contextEl.fillStyle=t.textColor,this.contextEl.font=t.font,this.contextEl.fillText(t.indicatorText,n.textLocation.x,n.textLocation.y),this.contextEl.closePath()},_drawTriangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawPointer:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(t.width,t.height/4),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/4),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(0,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(t.width/2,t.height/4),this._contextClosePath(t,i)},_drawWedge:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(3*t.width/4,0),i.contextEl.lineTo(t.width,t.height/2),this._contextClosePath(t,i)},_drawSlider:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/4,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(t.width/4,t.height/2),this._contextClosePath(t,i)},_drawStar:function(n,t,i){this._contextOpenPath(t,i),i.Model.orientation=="Horizontal"&&i.markerPlacement=="Near"?(i.contextEl.moveTo(n.startX+t.width-t.width/6,n.startY),i.contextEl.lineTo(n.startX,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height-t.height/3),i.contextEl.lineTo(n.startX+t.width/6,n.startY),i.contextEl.lineTo(n.startX+t.width/2,n.startY+t.height)):(i.contextEl.moveTo(n.startX+t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width,n.startY+t.height/3),i.contextEl.lineTo(n.startX,n.startY+t.height/3),i.contextEl.lineTo(n.startX+t.width-t.width/6,n.startY+t.height),i.contextEl.lineTo(n.startX+t.width/2,n.startY)),this._contextClosePath(t,i)},_drawPentagon:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/3,-t.height/2),i.contextEl.lineTo(t.width,-t.height/4),i.contextEl.lineTo(t.width,t.height/4),i.contextEl.lineTo(t.width/3,t.height/2),this._contextClosePath(t,i)},_drawDiamond:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(t.width/2,-t.height/2),i.contextEl.lineTo(t.width,0),i.contextEl.lineTo(t.width/2,t.height/2),i.contextEl.lineTo(0,0),this._contextClosePath(t,i)},_drawCircle:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_drawTrapezoid:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/4),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/4),this._contextClosePath(t,i)},_drawRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.moveTo(0,0),i.contextEl.lineTo(0,-t.height/2),i.contextEl.lineTo(t.width,-t.height/2),i.contextEl.lineTo(t.width,t.height/2),i.contextEl.lineTo(0,t.height/2),this._contextClosePath(t,i)},_drawRoundedRectangle:function(n,t,i){t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY-t.height/2),this._setContextRotation(t,i),i.contextEl.moveTo(t.radius,0),i.contextEl.lineTo(t.width-t.radius,0),i.contextEl.quadraticCurveTo(t.width,0,t.width,t.radius),i.contextEl.lineTo(t.width,t.height-t.radius),i.contextEl.quadraticCurveTo(t.width,t.height,t.width-t.radius,t.height),i.contextEl.lineTo(t.radius,t.height),i.contextEl.quadraticCurveTo(0,t.height,0,t.height-t.radius),i.contextEl.lineTo(0,t.radius),i.contextEl.quadraticCurveTo(0,0,t.radius,0),this._contextClosePath(t,i)},_drawCustomImage:function(t,i){var r=new Image,u=this;n(r).load(function(){t.contextEl.drawImage(this,0,0,t.Model.width,t.Model.height),t.Model.scales!=null&&t._drawScales(),t.Model.Items!=null&&t._renderItems()}).attr("src",i)},_drawEllipse:function(n,t,i){var r=Math.sqrt(t.height*t.height+t.width*t.width)/2;t=this._setPointerDimension(t,i),this._contextOpenPath(t,i),i.contextEl.translate(n.startX,n.startY),this._setContextRotation(t,i),i.contextEl.scale(2,1),i.contextEl.arc(r/2,0,r/2,0,Math.PI*2,!0),this._contextClosePath(t,i)},_getIndicatorImage:function(){if(this.pointerImage)return this.pointerImage;this._getMarkerPointerImage()},_getBarPointerImage:function(){return this.customLabelImage?this.customLabelImage:this._getCustomLabelImage()},_getMarkerPointerImage:function(){return this.barPointerImage?this.barPointerImage:this._getCustomLabelImage()},_getCustomLabelImage:function(){return this.rangeImage?this.rangeImage:this._getRangeImage()},_getRangeImage:function(){return this.labelImage?this.labelImage:this._getLabelImage()},_getLabelImage:function(){return this.tickImage?this.tickImage:this._getTickImage()},_getTickImage:function(){return this.scaleImage?this.scaleImage:this.outerImage},getIndicatorValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length)return this.scaleEl[n].indicators[t].value},setIndicatorValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].indicators.length&&i!=null&&(this.scaleEl[n].indicators[t].value=i,this.initialize())},setPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].value},setPointerWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerWidth},setPointerHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerLength=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].pointerLength},_getColor:function(n,t){return typeof t=="string"?t:"rgba("+t.r+", "+t.g+","+t.b+", "+t.a/255+")"},setPointerDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].distanceFromScale},setPointerPlacement:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].pointerPlacement=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getPointerPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].MarkerPointer[t].pointerPlacement},setMarkerStyle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length&&i!=null&&(this.scaleEl[n].markerPointers[t].markerStyle=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers()):this.initialize())},getMarkerStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].markerPointers.length)return this.scaleEl[n].markerPointers[t].markerStyle},setBarPointerValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].value=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarPointerValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].barPointers[t].value},setBarWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].pointerWidth=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].pointerWidth},setBarDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length&&i!=null&&(this.scaleEl[n].barPointers[t].distanceFromScale=i,this.contextEl.putImageData?this.scaleEl[this.scaleIndex].scaleStyle=="Thermometer"?this.initialize():this._reDrawBarPointer():this.initialize())},getBarDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].barPointers.length)return this.scaleEl[n].BarPointer[t].distanceFromScale},setCustomLabelValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].labelValue=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].labelValue},setCustomLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length&&i!=null&&(this.scaleEl[n].customLabel[t].textAngle=i,this.contextEl.putImageData?this._reDrawCustomLabel():this.initialize())},getCustomLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].customLabel.length)return this.scaleEl[n].customLabel[t].textAngle},setRangeStartValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startValue},setRangeEndValue:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endValue=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndValue:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endValue},setRangeStartWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].startWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeStartWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].startWidth},setRangeEndWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].endWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeEndWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].endWidth},setRangeDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].distanceFromScale=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].distanceFromScale},setRangePosition:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].rangePosition=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangePosition:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].rangePosition},setRangeBorderWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length&&i!=null&&(this.scaleEl[n].ranges[t].borderWidth=i,this.contextEl.putImageData?this._reDrawRange():this.initialize())},getRangeBorderWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ranges.length)return this.scaleEl[n].ranges[t].borderWidth},setLabelAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].angle=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].angle},setLabelStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].barPointers.length&&r!=null&&(this.scaleEl[t].labels[i].labelStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelStyle:function(n,t){if(n<this.Model.scales.length&&pointerIndex<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelStyle},setLabelPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].labels.length&&r!=null&&(this.scaleEl[t].labels[i].labelPlacement=n.inArray(r,this.Model.labelPlacement),this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].barPointers[t].labelPlacement},setLabelXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].xDistanceFromScale},setLabelYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].labels.length&&i!=null&&(this.scaleEl[n].labels[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawLabel():this.initialize())},getLabelYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].labels.length)return this.scaleEl[n].labels[t].yDistanceFromScale},setTickAngle:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].angle=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickAngle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].angle},setTickWidth:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickWidth=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickWidth:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickWidth},setTickHeight:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].tickHeight=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickHeight:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].labels[t].tickHeight},setTickStyle:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickStyle=n.inArray(r,this.Model.tickStyle),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickStyle:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickStyle},setTickPlacement:function(t,i,r){t<this.Model.scales.length&&i<this.Model.scales[t].ticks.length&&r!=null&&(this.scaleEl[t].ticks[i].tickPlacement=n.inArray(r,this.Model.tickPlacement),this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickPlacement:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].barPointers[t].tickPlacement},setTickXDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].xDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickXDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].xDistanceFromScale},setTickYDistanceFromScale:function(n,t,i){n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length&&i!=null&&(this.scaleEl[n].ticks[t].yDistanceFromScale=i,this.contextEl.putImageData?this._reDrawTickMark():this.initialize())},getTickYDistanceFromScale:function(n,t){if(n<this.Model.scales.length&&t<this.Model.scales[n].ticks.length)return this.scaleEl[n].ticks[t].yDistanceFromScale},setScaleLocation:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].location.x=t.x,this.scaleEl[n].location.y=t.y,this.initialize())},getScaleLocation:function(n){if(n<this.Model.scales.length)return{x:this.scaleEl[n].location.x,y:this.scaleEl[n].location.y}},setMaximumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].maximum=t,this.initialize())},getMaximumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].maximum},setMinimumValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minimum=t,this.initialize())},getMinimumValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[this.scaleIndex].minimum},setScaleBarSize:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarSize=t,this.initialize())},getScaleBarSize:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarSize},setScaleBarLength:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleBarLength=t,this.initialize())},setScaleStyle:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleStyle=t,this.initialize())},getScaleStyle:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleStyle},getScaleBarLength:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleBarLength},setScaleBorderWidth:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].borderWidth=t,this.initialize())},setScaleDirection:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].scaleDirection=t,this.initialize())},getScaleDirection:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].scaleDirection},getScaleBorderWidth:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].borderWidth},setMajorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].majorIntervalValue=t,this.initialize())},getMajorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].majorIntervalValue},setMinorIntervalValue:function(n,t){n<this.Model.scales.length&&t!=null&&(this.scaleEl[n].minorIntervalValue=t,this.initialize())},getMinorIntervalValue:function(n){if(n<this.Model.scales.length)return this.scaleEl[n].minorIntervalValue},_reDrawBarPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getBarPointerImage(),0,0),this._setBarPointers(),this._setMarkerPointers())},_reDrawMarkerPointer:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getMarkerPointerImage(),0,0),this._setMarkerPointers())},_reDrawCustomLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getCustomLabelImage(),0,0),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawRange:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getRangeImage(),0,0),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawLabel:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getLabelImage(),0,0),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},_reDrawTickMark:function(){this.Model.frameBackgroundImageUrl?this.initialize():(this.contextEl.putImageData(this._getTickImage(),0,0),this._setTicks(),this._setLabels(),this._setRange(),this._setCustomLabel(),this._setIndicators(),this._setBarPointers(),this._setMarkerPointers())},refresh:function(){this._init()},_onDrawTicks:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,tickIndex:this.tickIndex,tickElement:this.tickEl[this.tickIndex],context:this.contextEl,style:this.style,location:this.location,tickValue:t,tickAngle:parseInt(n)};this._trigger("drawTicks",i)},_onDrawLabels:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,labelIndex:this.labelIndex,labelElement:this.labelEl[this.labelIndex],context:this.contextEl,style:this.style,location:this.location,labelValue:this.labelValue,labelAngle:parseInt(n)};this._trigger("drawLabels",t)},_onDrawBarPointers:function(n){var t={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,barPointerIndex:this.barPointerIndex,barElement:this.barPointerEl[this.barPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:n};this._trigger("drawBarPointers",t)},_onDrawMarkerPointers:function(n,t){var i={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,markerPointerIndex:this.markerPointerIndex,markerElement:this.markerPointerEl[this.markerPointerIndex],context:this.contextEl,style:this.style,location:this.location,pointerValue:t,pointerAngle:parseInt(n)};this._trigger("drawMarkerPointers",i)},_onDrawRange:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,rangeIndex:this.rangeIndex,rangeElement:this.rangeEl[this.rangeIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawRange",n)},_onDrawCustomLabel:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,customLabelIndex:this.customLabelIndex,customLabelElement:this.customLabelEl[this.customLabelIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawCustomLabel",n)},_onDrawIndicators:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales[this.scaleIndex],scaleIndex:this.scaleIndex,indicatorIndex:this.indicatorIndex,indicatorEl:this.indicatorEl[this.indicatorIndex],context:this.contextEl,style:this.style,location:this.location};this._trigger("drawIndicators",n)},onLoad:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("load",n)},_onInit:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("init",n)},_onRenderComplete:function(){var n={Object:this,Model:this.Model,scaleElement:this.Model.scales,context:this.contextEl};this._trigger("renderComplete",n)},_restoreWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]-this.scaleEl[this.scaleIndex].scaleBarSize/2},_modifyWidth:function(){this.scaleEl[this.scaleIndex].scaleBarLength=this.scaleEl[this.scaleIndex].scaleBarLength-this.bottomRadius-this.scaleEl[this.scaleIndex].scaleBarSize,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartY[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]=this.scaleEl[this.scaleIndex].scaleDirection=="Clockwise"?this.scaleStartX[this.scaleIndex]+this.bottomRadius+this.scaleEl[this.scaleIndex].scaleBarSize/2:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2},_getClockwiseLinePosition:function(n){var t;return t=(n-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getCounterClockwiseLinePosition:function(n){var t;return t=this.scaleEl[this.scaleIndex].maximum-n+this.scaleEl[this.scaleIndex].minimum,t=(t-this.scaleEl[this.scaleIndex].minimum)/(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)*100,this.Model.orientation=="Vertical"?this.scaleStartY[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100):this.scaleStartX[this.scaleIndex]+parseInt(t*this.scaleEl[this.scaleIndex].scaleBarLength/100)},_getValue:function(n){return tempVal=this.Model.orientation=="Vertical"?(n.y-this.scaleStartY[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100:(n.x-this.scaleStartX[this.scaleIndex])/this.scaleEl[this.scaleIndex].scaleBarLength*100,value=(tempVal*(this.scaleEl[this.scaleIndex].maximum-this.scaleEl[this.scaleIndex].minimum)+this.scaleEl[this.scaleIndex].minimum)/100,this.scaleEl[this.scaleIndex].scaleDirection=="CounterClockwise"&&(value=this.scaleEl[this.scaleIndex].maximum+this.scaleEl[this.scaleIndex].minimum-value),value},_getPointerXPosition:function(n){return this.Model.orientation=="Vertical"?(this.markerPlacement=="Far"&&(startX=this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=0),this.markerPlacement=="Near"&&(startX=this.scaleStartX[this.scaleIndex]+n.distanceFromScale,angle=180),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartX[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerWidth/2+n.distanceFromScale,angle=0)):(this.markerPlacement=="Far"&&(startX=this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize+this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=90),this.markerPlacement=="Near"&&(startX=this.scaleStartY[this.scaleIndex]-this.scaleEl[this.scaleIndex].borderWidth/2+n.distanceFromScale,angle=270),this.markerPlacement=="Center"&&(startX=n.markerStyle=="Circle"?this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-radius+n.distanceFromScale:this.scaleStartY[this.scaleIndex]+this.scaleEl[this.scaleIndex].scaleBarSize/2-n.pointerLength/2+n.distanceFromScale,angle=90)),{startx:startX,angle:angle}},_hexFromRGB:function(t,i,r){var u=[t.toString(16),i.toString(16),r.toString(16)];return n.each(u,function(n,t){t.length===1&&(u[n]="0"+t)}),u.join("").toUpperCase()},_setGradientColor:function(t,i,r){var u=t;r.Name||typeof r=="string"?(i.addColorStop(0,r),i.addColorStop(1,r)):n.each(r,function(n,t){i.addColorStop(t.ColorStop!=NaN?t.ColorStop:0,typeof t.Color=="string"?t.Color:t.Color)})},_getFontString:function(n,t){return t.fontStyle+" "+(t.size==null?"11px":t.size)+" "+t.fontFamily},_setPointerDimension:function(n,t){if(t.Model.orientation&&t.Model.orientation=="Horizontal"){var i=n.width,r=n.height;n.height=i,n.width=r}return n},_setContextRotation:function(n,t){t.contextEl.rotate(Math.PI*(n.angle/180))},wireEvents:function(){this.startEv="mousedown",this.moveEv="mousemove",this.endEv="mouseup",this.onMouseDownHandler=n.proxy(this._onMouseDown,this),n("#"+this.target.id).bind(this.startEv,n.proxy(this._onMouseDown,this))},unWireEvents:function(){n("#"+this.target.id).unbind(this.startEv,this.onMouseDownHandler)},_blockDefaultActions:function(n){n.cancelBubble=!0,n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()},_onMouseDown:function(t){var s,r,h,u,f,e,o,i;this._blockDefaultActions(t),s={x:this.centerX,y:this.centerY},r={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},offsetPoint={x:t.pageX-n(this.canvasEl).offset().left,y:t.pageY-n(this.canvasEl).offset().top},h=this._getValue(r),i=this,n.each(this.Model.scales,function(t,s){i.scaleIndex=t,s.markerPointers!=null&&(i.markerPointerEl=s.markerPointers,n.each(s.markerPointers,function(t,s){u=i.scaleEl[i.scaleIndex].scaleDirection=="Clockwise"?i._getClockwiseLinePosition(s.value):i._getCounterClockwiseLinePosition(s.value),f=u+s.pointerWidth,e=u-s.pointerWidth,o=i._getPointerXPosition(s).startx;var h=i._isBetween((i.Model.orientation=="Horizontal"?r.y:r.x)-s.pointerWidth,(i.Model.orientation=="Horizontal"?r.y:r.x)+s.pointerWidth,o);(i.Model.orientation=="Horizontal"?i._isBetween(e,f,r.x):i._isBetween(e,f,r.y))&&h&&(i.activeElement=s,i.Model.scales[i.scaleIndex].barPointers[t]!=null&&(i.activeBarElement=i.Model.scales[i.scaleIndex].barPointers[t]),i.onMouseMoveHandler=n.proxy(i._onMouseMove,i),i.onMouseUpHandler=n.proxy(i._onMouseUp,i),n(document).bind(i.moveEv,i.onMouseMoveHandler),n(document).bind(i.endEv,i.onMouseUpHandler))}))})},_isBetween:function(n,t,i){return n<t?i>=n&&i<=t:i>=t&&i<=n},_onMouseUp:function(){this.mouseMove=!1,n(document).unbind(self.moveEv,self.onMouseMoveHandler),n(document).unbind(self.endEv,self.onMouseUpHandler)},_onMouseMove:function(t){this._blockDefaultActions(t),startPoint={x:this.centerX,y:this.centerY},endPoint={x:t.pageX-n(this.canvasEl).offset().left-(this.Model.frameOuterWidth+this.Model.frameInnerWidth),y:t.pageY-n(this.canvasEl).offset().top-(this.Model.frameOuterWidth+this.Model.frameInnerWidth)},this.activeElement.value=this._getValue(endPoint),this.activeBarElement&&(this.activeBarElement.value=this._getValue(endPoint)),this._reDrawBarPointer()},_setTheme:function(){selectedTheme=t.LinearGauge.themes[this.model.theme],this._setThemeColors(selectedTheme)},_setThemeColors:function(n){var r=t.LinearGauge.themes,o=0,e=Object.keys(r),i,u,f;for(property in r)r.hasOwnProperty(property)&&o++;for(r=0;r<o;r++)for(this.model.backgroundColor=this.model.backgroundColor==null||this.model.backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.backgroundColor?n.scales.backgroundColor:this.model.backgroundColor,this.model.borderColor=this.model.borderColor==null||this.model.borderColor==t.LinearGauge.themes[e[r].toString()].scales.borderColor?n.scales.borderColor:this.model.borderColor,this.model.labelColor=this.model.labelColor==null||this.model.labelColor==t.LinearGauge.themes[e[r].toString()].scales.labels.labelColor?n.scales.labels.labelColor:this.model.labelColor,this.model.tickColor=this.model.tickColor==null||this.model.tickColor==t.LinearGauge.themes[e[r].toString()].scales.ticks.tickColor?n.scales.ticks.tickColor:this.model.tickColor,i=0;i<this.model.scales.length;i++){for(u=0;u<this.model.scales[i].markerPointers.length;u++)this.model.scales[i].markerPointers[u].backgroundColor=this.model.scales[i].markerPointers[u].backgroundColor==null||this.model.scales[i].markerPointers[u].backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.markerPointers.backgroundColor?n.scales.markerPointers.backgroundColor:this.model.scales[i].markerPointers[u].backgroundColor,this.model.scales[i].markerPointers[u].borderColor=this.model.scales[i].markerPointers[u].borderColor==null||this.model.scales[i].markerPointers[u].borderColor==t.LinearGauge.themes[e[r].toString()].scales.markerPointers.borderColor?n.scales.markerPointers.borderColor:this.model.scales[i].markerPointers[u].borderColor;for(f=0;f<this.model.scales[i].barPointers.length;f++)this.model.scales[i].barPointers[f].backgroundColor=this.model.scales[i].barPointers[f].backgroundColor==null||this.model.scales[i].barPointers[f].backgroundColor==t.LinearGauge.themes[e[r].toString()].scales.barPointers.backgroundColor?n.scales.barPointers.backgroundColor:this.model.scales[i].barPointers[f].backgroundColor,this.model.scales[i].barPointers[f].borderColor=this.model.scales[i].barPointers[f].borderColor==null||this.model.scales[i].barPointers[f].borderColor==t.LinearGauge.themes[e[r].toString()].scales.barPointers.borderColor?n.scales.barPointers.borderColor:this.model.scales[i].barPointers[f].borderColor}}}),t.tickStyle={MajorInterval:"MajorInterval",MinorInterval:"MinorInterval"},t.labelStyle={Major:"Major",Minor:"Minor"},t.fontStyle={Bold:"Bold",Italic:"Italic",Regular:"Regular",Strikeout:"Strikeout",Underline:"Underline"},t.pointerPlacement={Near:"Near",Far:"Far",Center:"Center"},t.tickPlacement={Near:"Near",Far:"Far",Center:"Center"},t.labelPlacement={Near:"Near",Far:"Far",Center:"Center"},t.rangePosition={Near:"Near",Far:"Far",Center:"Center"},t.scaleDirection={Clockwise:"Clockwise",CounterClockwise:"CounterClockwise"},t.scaleStyle={Rectangle:"Rectangle",RoundedRectangle:"RoundedRectangle",Thermometer:"Thermometer"},t.indicatorStyle={Rectangle:"Rectangle",Circle:"Circle",RoundedRectangle:"RoundedRectangle",text:"text"},t.markerStyle={Rectangle:"Rectangle",Triangle:"Triangle",Ellipse:"Ellipse",Diamond:"Diamond",Pentagon:"Pentagon",Circle:"Circle",Star:"Star",Slider:"Slider",Pointer:"Pointer",Wedge:"Wedge",Trapezoid:"Trapezoid",RoundedRectangle:"RoundedRectangle"},t.LinearGauge.themes={flatlight:{scales:{backgroundColor:"#FFFFFF",borderColor:"#1d1e1e",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#212121",borderColor:"#212121"},ticks:{tickColor:"#1d1e1e"},labels:{labelColor:"#222222"}}},flatdark:{scales:{backgroundColor:"#808080",borderColor:"#808080",barPointers:{backgroundColor:"#8abc3b",borderColor:"#8abc3b"},markerPointers:{backgroundColor:"#CCCCCC",borderColor:"#CCCCCC"},ticks:{tickColor:"#808080"},labels:{labelColor:"#CCCCCC"}}}};var r=0,u=0,f=[],e=[]})(jQuery,Syncfusion)