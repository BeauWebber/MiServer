/*!
*  filename: ej.slider.min.js
*  version : 11.2.0.63
*  Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/
(function(n,t){t.widget("ejSlider","ej.Slider",{element:{target:null},model:null,_rootCSS:"e-slider",defaults:{orientation:"horizontal",animate:!0,animationSpeed:500,showTooltip:!0,cssClass:"",roundedCorner:!1,rtl:!1,startValue:0,endValue:100,sliderType:"default",value:0,values:null,step:1,height:null,width:null,disabled:!1,showScale:!1,largeStep:null,smallStep:null,showSmallTicks:!0,persist:!1,start:null,stop:null,slide:null,change:null},dataTypes:{orientation:"enum",animate:"boolean",animationSpeed:"number",cssClass:"string",rtl:"boolean",startValue:"number",endValue:"number",sliderType:"enum",value:"number",step:"number",disabled:"boolean",persist:"boolean"},enable:function(){this.element.hasClass("disabled")&&(this.element.removeClass("disabled"),this._wireEvents())},disable:function(){this.element.hasClass("disabled")||(this.element.addClass("disabled"),this._unWireEvents())},_setValue:function(n){this.model.sliderType=="range"||isNaN(n)||typeof n!="number"||(this._setHandleValue(n),this._raiseChangeEvent(1))},_setValues:function(n){this.model.sliderType!="range"||isNaN(n[0])||isNaN(n[1])||typeof n[0]!="number"||typeof n[1]!="number"||this._setHandlesValue(n)},_outerCorner:function(n){n?this._roundedCorner():this._sharpedCorner()},_changeSkin:function(n){this.model.cssClass!=n&&(this.element.removeClass(this.model.cssClass).addClass(n),this.model.showScale&&this.ul.removeClass(this.model.cssClass).addClass(n))},getValue:function(){return this._getCurrentHandleValue()},_init:function(){this._initialize(),this._render()},_setModel:function(n){if(this.element.hasClass("disabled"))return!1;var t;for(t in n)switch(t){case"value":this._setValue(n[t]);break;case"values":this._setValues(n[t]);break;case"height":this.model.height=n[t],this._setHeightWidth();break;case"width":this.model.width=n[t],this._setHeightWidth();break;case"sliderType":this._changeSliderType(n[t]);break;case"disabled":this._disabled(n[t]);break;case"roundedCorner":this._outerCorner(n[t]);break;case"rtl":this._checkRTL(n[t]);break;case"cssClass":this._changeSkin(n[t]);break;case"showScale":this._renderScale(n[t])}},_destroy:function(){this.model.showScale&&this._destroyScale(),this.element.empty(),this.element.removeClass(this.model.cssClass+" e-slider-"+this.model.orientation)},_initialize:function(){this.target=this.element[0],this.model.sliderType=="range"&&this.model.values==null&&(this.model.values=[this.model.startValue,this.model.endValue]),this.horDir="left",this.verDir="bottom",this.setHandleActive=!1,this.isActive=!1},_render:function(){this.element.addClass(this.model.cssClass),this.model.sliderType!="default"&&(this.header=t.buildTag("div.e-slider-range"),this.element.append(this.header),this.model.sliderType=="range"&&(this.secondHandle=this._createHandle())),this.firstHandle=this._createHandle(),this._setOrientation(),this._checkProperties(),this._insertHiddenField()},_renderScale:function(i){var e,o,u,k,y,p,c;if(i){var w=12,l=20,f="height",s="width",h="top",r="h";this.model.orientation=="vertical"&&(f="width",h="right",s="height",r="v"),this.model.showSmallTicks?this.model.smallStep==null&&(this.model.smallStep=this.model.step):this.model.smallStep=this.model.largeStep?this.model.largeStep:this.model.endValue-this.model.startValue,this.wrapper=t.buildTag("div.e-slider-wrapper#"+this.target.id+"_wrapper"),this.wrapper.insertAfter(this.element),e=f=="height"?this.element.height():this.element.width(),this.wrapper.css(f,e+l);var d=this.model.endValue-this.model.startValue,a=Math.abs(d)/this.model.smallStep,b=f=="height"?this.element[0].offsetWidth:this.element[0].offsetHeight,v=b/a;for(this.ul=t.buildTag("ul.e-scale "+this.model.cssClass),u=this.model.startValue,k=0,r=="v"&&(u=this.model.endValue),y=0;y<=a;y++)o=t.buildTag("li.e-tick "+r+"-tick","",{},{title:u}),o.css(s,v),u%this.model.largeStep!=0?this.model.showSmallTicks&&o.addClass("e-tick-small"):(p=t.buildTag("span.tick-value",""+u),r=="v"&&p.css("right",e+l+2),o.append(p)),this.ul.append(o),r=="h"?u+=this.model.smallStep:u-=this.model.smallStep,k+=this.model.smallStep;n(this.ul.children()[0]).addClass("first").css(s,v/2),n(this.ul.children()[a]).addClass("last").css(s,v/2),this.wrapper.append(this.ul),this.wrapper.append(this.element),this.element.css(h,-(e+11)),r=="v"&&this.element.css("top",-b).css(h,-9),this.model.rtl&&this.ul.addClass("e-rtl"),c=-(l-w)/2,this.model.largeStep==null&&r!="v"&&(c=-c),n("#"+this.target.id+"_wrapper .e-tick-small").css(f,e+w).css(h,c)}else this._destroyScale()},_destroyScale:function(){this.element.insertAfter(this.wrapper).css({top:0,right:0}),this.wrapper.remove()},_createHandle:function(){var n=t.buildTag("a.e-slider-handle e-state-default","",{},{tabindex:0});return this.element.append(n),n},_insertHiddenField:function(){this._hidden=t.buildTag("input","",{display:"none"},{type:"text",name:this.element[0].id}).val(this._getCurrentHandleValue()),this.element.append(this._hidden)},_checkProperties:function(){this.model.disabled?this.element.addClass("disabled"):this._wireEvents(),this.model.showScale&&this._renderScale(!0),this.model.rtl&&this._checkRTL(!0),this.model.roundedCorner&&this._roundedCorner(),this._handleAlignment(this.model.rtl)},_roundedCorner:function(){this.element.addClass("e-corner-all"),this.firstHandle.addClass("e-corner-all"),this.model.sliderType!="default"&&(this.header.addClass("e-corner-all"),this.model.sliderType=="range"&&this.secondHandle.addClass("e-corner-all"))},_sharpedCorner:function(){this.element.removeClass("e-corner-all"),this.firstHandle.removeClass("e-corner-all"),this.model.sliderType!="default"&&(this.header.removeClass("e-corner-all"),this.model.sliderType=="range"&&this.secondHandle.removeClass("e-corner-all"))},_handleAlignment:function(n){var t=-(this.firstHandle[0].offsetWidth/2)+"px",i;i=this.model.orientation!="vertical"?n?"0 "+t+" 0 0":"0 0 0 "+t:n?t+" 0 0 0":"0 0 "+t+" 0",this.element.find(".e-slider-handle").css("margin",i)},_checkRTL:function(n){var t=this.model.orientation!="vertical"?this.horDir:this.verDir,i;n?(this.element.addClass("e-rtl"),this.model.showScale&&this.ul.addClass("e-rtl"),this.horDir="right",this.verDir="top"):(this.element.removeClass("e-rtl"),this.model.showScale&&this.ul.removeClass("e-rtl"),this.horDir="left",this.verDir="bottom"),i=this.model.orientation!="vertical"?this.horDir:this.verDir,this.firstHandle.css(i,this.firstHandle.css(t)).css(t,"auto"),this.model.sliderType!="default"&&(this.header.css(i,this.header.css(t)).css(t,"auto"),this.model.sliderType=="range"&&this.secondHandle.css(i,this.secondHandle.css(t)).css(t,"auto")),this._handleAlignment(n)},_setOrientation:function(){this.model.orientation!="vertical"?this.element.addClass("e-slider-horizontal"):(this.element.addClass("e-slider-vertical"),this.firstHandle.css(this.verDir,"0")),this._setHeightWidth(),this._initializeDefaultValues(),this._setRangeShadow()},_setHeightWidth:function(){this.model.width&&this.element.width(this.model.width),this.model.height&&this.element.height(this.model.height),this._setHandleSize()},_setHandleSize:function(){var t;t=this.model.orientation!="vertical"?this.element.height()+4:this.element.width()+4,n("#"+this.target.id+" .e-slider-handle").height(t).width(t)},_disabled:function(n){n?this.disable():this.enable()},_changeSliderType:function(n){this.model.sliderType=n,this._destroy(),this._init()},_showTooltip:function(i){this.model.showTooltip&&(n("body .e-slider-tooltip").remove(),this.tooltip=t.buildTag("div.e-slider-tooltip "+this.model.cssClass+" e-corner-all"),n("body").append(this.tooltip),this._setTooltipPosition(i))},_hideTooltip:function(){this.model.showTooltip&&this.tooltip.fadeOut(800)},_showhideTooltip:function(n,t){this.model.showTooltip&&t&&(this._showTooltip(n),this._hideTooltip())},_setTooltipPosition:function(n){if(this.model.showTooltip){this._updateTooltipValue();var u,f,i,r,t,e=5;t=n==1?this.firstHandle:this.secondHandle,this.model.orientation=="vertical"?(r=(this.tooltip[0].offsetHeight-t[0].offsetHeight)/2,i=t[0].offsetWidth+e,u=t.offset().top-r,f=t.offset().left+i):(i=(this.tooltip[0].offsetWidth-t[0].offsetWidth)/2,r=this.tooltip[0].offsetHeight+e,u=t.offset().top-r,f=t.offset().left-i),this.tooltip.css({top:u,left:f})}},_updateTooltipValue:function(){var t=0,i=1,n;this.model.rtl&&(t=1,i=0),n=this._getCurrentHandleValue(),this.tooltip[0].innerHTML=this.model.sliderType!="range"?n:n[t]+" - "+n[i]},_setRangeShadow:function(){if(this.model.sliderType!="default"){var i="width",n=this.horDir,t={};this.model.orientation=="vertical"&&(i="height",n=this.verDir),this.model.sliderType=="range"?(t[i]=this.handlePos-this.handlePos2+"%",t[n]=this.handlePos2+"%",this.secondHandle.css(n,this.handlePos2+"%")):this.model.sliderType=="minrange"&&(t[i]=this.handlePos+"%",t[n]=0),this.firstHandle.css(n,this.handlePos+"%"),this.header.css(t)}},_increaseHeaderWidth:function(n){if(this.model.sliderType!="default"){var i="width",r=this.horDir,t={};this.model.orientation=="vertical"&&(i="height",r=this.verDir),this.model.sliderType=="range"?(t[i]=this.handlePos-this.handlePos2+"%",t[r]=this.handlePos2+"%"):(t[i]=this.handlePos+"%",t[r]=0),n?this.header.animate(t,this.model.animationSpeed):this.header.css(t)}},_initializeDefaultValues:function(){this.model.sliderType=="range"?(this.handleVal2=this._checkHandleValue(this.model.values[0]),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.preHandlePos2=this.handlePos2,this.handleVal=this._checkHandleValue(this.model.values[1]),this.handlePos=this._checkHandlePosition(this.handleVal),this.preHandlePos=this.handlePos):this.model.value!=0?this._setHandleValue(this.model.value):(this.handlePos=this.model.value,this.handleVal=this.model.startValue,this.preHandlePos=this.handlePos)},_hoverOnHandle:function(t){n(t.target).addClass("e-state-hover")},_leaveFromHandle:function(t){n(t.target).removeClass("e-state-hover")},_firstHandleClick:function(t){t.preventDefault(),this.mouseDownPos=this.handlePos,this.model.start&&this._raiseEvent("start",1),n(document).bind("mousemove",n.proxy(this._firstHandleMove,this)),n(document).bind("mouseup",n.proxy(this._firstHandleUp,this)),this._showTooltip(1)},_firstHandleMove:function(n){n.preventDefault();var t={x:n.pageX,y:n.pageY};this.handlePos=this._getHandlePosition(t),this.model.sliderType!="default"&&this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2),this.handlePos!=this.preHandlePos&&(this.preHandlePos=this.handlePos,this.handleVal=this._getHandleValue(this.handlePos),this._setHandlePosition(this.handlePos,1,!1,!1),this._increaseHeaderWidth(!1),this.model.slide&&this._raiseEvent("slide",1)),this._setTooltipPosition(1)},_firstHandleUp:function(t){t.preventDefault(),n(document).unbind("mousemove",n.proxy(this._firstHandleMove,this)),n(document).unbind("mouseup",n.proxy(this._firstHandleUp,this)),this._increaseHeaderWidth(!1),this.model.stop&&this._raiseEvent("stop",1),this.mouseDownPos!=this.handlePos&&this._raiseChangeEvent(1),this._setZindex(1),this._hideTooltip()},_secondHandleClick:function(t){t.preventDefault(),this.mouseDownPos2=this.handlePos2,this.model.start&&this._raiseEvent("start",2),n(document).bind("mousemove",n.proxy(this._secondHandleMove,this)),n(document).bind("mouseup",n.proxy(this._secondHandleUp,this)),this._showTooltip(2)},_secondHandleMove:function(n){n.preventDefault();var t={x:n.pageX,y:n.pageY};this.handlePos2=this._getHandlePosition(t),this.model.sliderType!="default"&&this.handlePos2>this.handlePos&&(this.handlePos2=this.handlePos),this.handlePos2!=this.preHandlePos2&&(this.preHandlePos2=this.handlePos2,this.handleVal2=this._getHandleValue(this.handlePos2),this._setHandlePosition(this.handlePos2,2,!1,!1),this._increaseHeaderWidth(!1),this.model.slide&&this._raiseEvent("slide",2)),this._setTooltipPosition(2)},_secondHandleUp:function(t){t.preventDefault(),n(document).unbind("mousemove",n.proxy(this._secondHandleMove,this)),n(document).unbind("mouseup",n.proxy(this._secondHandleUp,this)),this.model.stop&&this._raiseEvent("stop",2),this.mouseDownPos2!=this.handlePos2&&this._raiseChangeEvent(2),this._setZindex(2),this._hideTooltip()},_focusElement:function(){this.model.sliderType=="range"?this.secondHandle.focus():this.firstHandle.focus()},_focusInHandle:function(t){this.isActive||(this.isActive=!0,n(document).bind("keydown",n.proxy(this._moveHandle,this)),n(document).bind("mousedown",n.proxy(this._documentClick,this))),n(t.target).addClass("e-focused"),this.activeHandle=t.target==this.firstHandle[0]?1:2},_focusOutHandle:function(t){n(t.target).removeClass("e-focused"),this.isActive=!1,n(document).unbind("keydown",n.proxy(this._moveHandle,this)),n(document).unbind("mousedown",n.proxy(this._documentClick,this))},_moveHandle:function(n){var t="none",r,u,i;switch(n.keyCode){case 37:case 40:n.preventDefault(),t="sub";break;case 38:case 39:n.preventDefault(),t="add";break;case 36:n.preventDefault(),this.model.sliderType!="range"?this._changeHandleValue(this.model.startValue,1,this.model.animate):(r=this.activeHandle==2?this.model.startValue:this.handleVal2,this._changeHandleValue(r,this.activeHandle,this.model.animate));break;case 35:n.preventDefault(),this.model.sliderType!="range"?this._changeHandleValue(this.model.endValue,this.activeHandle,this.model.animate):(r=this.activeHandle==1?this.model.endValue:this.handleVal,this._changeHandleValue(r,this.activeHandle,this.model.animate));break;case 27:n.preventDefault(),u=this.activeHandle==1?this.firstHandle:this.secondHandle,u.focusout()}(t=="add"||t=="sub")&&(this.activeHandle==1?(this.preHandlePos=this.handlePos,i=t=="add"?this.handleVal+this.model.step:this.handleVal-this.model.step,t=="sub"&&this.model.sliderType=="range"&&i<this.handleVal2&&(i=this.handleVal2)):(this.preHandlePos2=this.handlePos2,i=t=="add"?this.handleVal2+this.model.step:this.handleVal2-this.model.step,t=="add"&&i>this.handleVal&&(i=this.handleVal)),this._changeHandleValue(i,this.activeHandle,!1))},_changeHandleValue:function(n,t,i){t==1?(this.handleVal=this._checkHandleValue(n),this.handlePos=this._checkHandlePosition(this.handleVal),n=this.handlePos):(this.handleVal2=this._checkHandleValue(n),this.handlePos2=this._checkHandlePosition(this.handleVal2),n=this.handlePos2),this._setHandlePosition(n,t,i,!0),this._increaseHeaderWidth(i),this._raiseChangeEvent(t)},_documentClick:function(n){if(n.target!=this.element[0]&&n.target!=this.firstHandle[0]){if(this.model.sliderType!="default"&&n.target==this.header[0]||this.model.sliderType=="range"&&n.target==this.secondHandle[0])return!1;var t=this.activeHandle==1?this.firstHandle:this.secondHandle;t.focusout()}},_sliderBarClick:function(n){n.preventDefault();var i={x:n.pageX,y:n.pageY},t=this._getHandlePosition(i);n.target==this.firstHandle[0]||this.model.sliderType=="range"&&n.target==this.secondHandle[0]?n.target.focus():this.setHandleActive=!0,this.model.sliderType=="default"?n.target==this.target&&(this.handleVal=this._getHandleValue(t),this.handlePos=t,this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._raiseChangeEvent(1)):this.model.sliderType=="range"?(n.target==this.target||n.target==this.header[0])&&(this.handlePos-t>t-this.handlePos2?(this.handlePos2=t,this.handleVal2=this._getHandleValue(t),this.preHandlePos2=this.handlePos2,this._setHandlePosition(t,2,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(2)):(this.handlePos=t,this.handleVal=this._getHandleValue(t),this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1))):(n.target==this.target||n.target==this.header[0])&&(this.handlePos=t,this.handleVal=this._getHandleValue(t),this.preHandlePos=this.handlePos,this._setHandlePosition(t,1,this.model.animate,!0),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1))},_setHandlePosition:function(n,t,i,r){var u=t==1?this.firstHandle:this.secondHandle,e=this.horDir,f={},o;this.model.orientation=="vertical"&&(e=this.verDir),f[e]=n+"%",i?(o=this,u.animate(f,this.model.animationSpeed,function(){o._showhideTooltip(t,r)})):(u.css(f),this._showhideTooltip(t,r)),this.setHandleActive&&(this.setHandleActive=!1,u.focus())},_getHandlePosition:function(n){if(this.model.startValue==this.model.endValue)return 100;if(this.model.orientation!="vertical")var r=n.x-this.element.offset().left,i=this.element.width()/100,t=r/i;else var u=n.y-this.element.offset().top,i=this.element.height()/100,t=100-u/i;return(t=this._stepValueCalculation(t),t<0?t=0:t>100&&(t=100),this.model.rtl)?100-t:t},_setHandleValue:function(n){this.handleVal=this._checkHandleValue(n),this.handlePos=this._checkHandlePosition(this.handleVal),this.preHandlePos=this.handlePos,this._setHandlePosition(this.handlePos,1,this.model.animate,!1),this._increaseHeaderWidth(this.model.animate)},_setHandlesValue:function(n){this.handleVal=this._checkHandleValue(n[1]),this.handleVal2=this._checkHandleValue(n[0]),this.handlePos=this._checkHandlePosition(this.handleVal),this.handlePos2=this._checkHandlePosition(this.handleVal2),this.handlePos<this.handlePos2&&(this.handlePos=this.handlePos2,this.handleVal=this.handleVal2),this._setHandlePosition(this.handlePos,1,this.model.animate,!1),this._setHandlePosition(this.handlePos2,2,this.model.animate,!1),this._increaseHeaderWidth(this.model.animate),this._raiseChangeEvent(1)},_checkHandlePosition:function(n){if(this.model.startValue==this.model.endValue)return this.model.startValue;var t=this._tempStartEnd();return n>=t.start&&n<=t.end?100*(n-this.model.startValue)/(this.model.endValue-this.model.startValue):n<t.start?0:100},_checkHandleValue:function(n){if(this.model.startValue==this.model.endValue)return this.model.startValue;var t=this._tempStartEnd();return n<t.start?n=t.start:n>t.end&&(n=t.end),n},_tempStartEnd:function(){var n,t;return this.model.startValue>this.model.endValue?(n=this.model.endValue,t=this.model.startValue):(n=this.model.startValue,t=this.model.endValue),{start:n,end:t}},_getHandleValue:function(n){var i=this.model.endValue-this.model.startValue,r=i*n/100,t=r+this.model.startValue;return t%this.model.step!=0?Math.round(t):t},_getCurrentHandle:function(n){return this.model.sliderType=="range"&&n==1?2:1},_getCurrentHandleValue:function(){return this.model.sliderType!="range"?this.handleVal:[this.handleVal2,this.handleVal]},_raiseChangeEvent:function(n){var t=this._getCurrentHandleValue();this._updateModelValue(t),this._hidden.val(t),this.model.change&&this._raiseEvent("change",n)},_raiseEvent:function(n,t){var i=t!=2?this._getCurrentHandle(t):1;this._trigger(n,{id:this.target.id,handleValue:this._getCurrentHandleValue(),handleNo:i})},_updateModelValue:function(n){this.model.sliderType!="range"?this.model.value=n:this.model.values=n},_setZindex:function(n){this.model.sliderType=="range"&&(n==1?(this.firstHandle.css("z-index",2),this.secondHandle.css("z-index",1)):(this.firstHandle.css("z-index",1),this.secondHandle.css("z-index",2)))},_stepValueCalculation:function(n){this.model.step==0&&(this.model.step=1);var i=this.model.step/((this.model.endValue-this.model.startValue)/100),t=n%Math.abs(i);return t!=0&&(i/2>t?n-=t:n+=Math.abs(i)-t),n},_wireEvents:function(){this._on(this.element,"mousedown",this._sliderBarClick),this._on(this.element,"focus",this._focusElement),this._on(this.firstHandle,"mousedown",this._firstHandleClick),this._on(this.firstHandle,"mouseenter",this._hoverOnHandle),this._on(this.firstHandle,"mouseleave",this._leaveFromHandle),this._on(this.firstHandle,"focus",this._focusInHandle),this._on(this.firstHandle,"focusout",this._focusOutHandle),this.model.sliderType=="range"&&(this._on(this.secondHandle,"mousedown",this._secondHandleClick),this._on(this.secondHandle,"mouseenter",this._hoverOnHandle),this._on(this.secondHandle,"mouseleave",this._leaveFromHandle),this._on(this.secondHandle,"focus",this._focusInHandle),this._on(this.secondHandle,"focusout",this._focusOutHandle))},_unWireEvents:function(){this.element.unbind("mousedown"),this.element.unbind("focus"),this.firstHandle.unbind("mousedown"),this.firstHandle.unbind("mouseenter"),this.firstHandle.unbind("mouseleave"),this.firstHandle.unbind("focus"),this.firstHandle.unbind("focusout"),this.model.sliderType=="range"&&(this.secondHandle.unbind("mousedown"),this.secondHandle.unbind("mouseenter"),this.secondHandle.unbind("mouseleave"),this.secondHandle.unbind("focus"),this.secondHandle.unbind("focusout"))}}),t.sliderType={Default:"default",Range:"range",MinRange:"minrange"}})(jQuery,Syncfusion)